"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[596],{5399:function(e,t,r){r.d(t,{Z:function(){return n}});var s={roundButton:"RoundButton_roundButton__nMjVe",scrollButton:"RoundButton_scrollButton__WegW6",icon:"RoundButton_icon__X5lVR"},a=r(184),n=function(e){var t=e.icon,r=e.btnClass,n=void 0===r?"roundButton":r,c=e.handleClick,i=e.id,o=e.onClick;return(0,a.jsx)("div",{className:s[n],onClick:function(e){c&&c(i),o&&o(e)},children:(0,a.jsx)(t,{className:s.icon})})}},3303:function(e,t,r){var s=r(2791),a=r(9434),n=r(5557);t.Z=function(){var e=(0,a.I0)();return(0,s.useEffect)((function(){var t=JSON.parse(localStorage.getItem("easy-shop.authData"));if(t&&t.accessToken){var r={accessToken:t.accessToken,refreshToken:t.refreshToken,sid:t.sid};e((0,n.Nq)(r))}}),[e]),null}},8785:function(e,t,r){function s(e,t){var r="",s="";switch(e){case"\u0416\u0456\u043d\u043a\u0430\u043c":r="women";break;case"\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c":r="men";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438":r="children";break;case"\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f":r="beauty&health";break;default:r=e}if("\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c"===e)switch(t){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u0456\u0434\u0436\u0430\u043a\u0438 \u0456 \u043a\u043e\u0441\u0442\u044e\u043c\u0438":s="jackets & suits";break;case"\u041a\u043e\u0444\u0442\u0438 \u0442\u0430 \u0441\u0432\u0435\u0442\u0440\u0438":s="coats & tops";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0442\u0435\u043d\u0456\u0441\u043a\u0438":s="shirts & t-shirts";break;case"\u0424\u0443\u0442\u0431\u043e\u043b\u043a\u0438 \u0442\u0430 \u043c\u0430\u0439\u043a\u0438":s="t-shirts & tank tops";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothing for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothing";break;case"\u0422\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="tactical clothing";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=t}if("\u0416\u0456\u043d\u043a\u0430\u043c"===e)switch(t){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u043b\u0430\u0442\u0442\u044f":s="dresses";break;case"\u0421\u043f\u0456\u0434\u043d\u0438\u0446\u0456":s="skirts";break;case"\u041c\u0430\u0439\u043a\u0438 \u0456 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0438":s="t-shirts and t-shirts";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0431\u043b\u0443\u0437\u0438":s="shirts and blouses";break;case"Coats":s="\u0421\u0432\u0435\u0442\u0440\u0438";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0406\u043d\u0448\u0456 \u0440\u0435\u0447\u0456":s="other things";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041a\u043e\u0441\u0442\u044e\u043c\u0438":s="suits";break;case"\u041a\u043e\u043c\u0431\u0456\u043d\u0435\u0437\u043e\u043d\u0438":s="overalls";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothes for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothes";break;case"\u0414\u043b\u044f \u0432\u0430\u0433\u0456\u0442\u043d\u0438\u0445":s="for pregnant women";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=t}if("\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438"===e)switch(t){case"\u0414\u0438\u0442\u044f\u0447\u0430 \u043a\u0456\u043c\u043d\u0430\u0442\u0430":s="children's room";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u043c\u0430\u043c":s="products for mothers";break;case"\u0425\u0430\u0440\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u0456 \u0433\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f":s="food and feeding";break;case"\u0429\u043e\u0434\u0435\u043d\u043d\u0438\u0439 \u0434\u043e\u0433\u043b\u044f\u0434":s="daily care";break;case"\u041a\u043e\u043b\u044f\u0441\u043a\u0438 \u0442\u0430 \u0430\u0432\u0442\u043e\u043a\u0440\u0456\u0441\u043b\u0430":s="strollers and car seats";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0456\u0433\u0440\u0430\u0448\u043a\u0438":s="children's toys";break;case"\u0414\u0438\u0442\u044f\u0447\u0438\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":s="children's transport";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u0442\u0432\u043e\u0440\u0447\u043e\u0441\u0442\u0456":s="products for creativity";break;case"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0432\u0456\u0434\u043f\u043e\u0447\u0438\u043d\u043e\u043a":s="active recreation";break;default:s=t}if("\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f"===e)switch(t){case"\u0427\u043e\u043b\u043e\u0432\u0456\u0447\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="men's cosmetics";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="beauty accessories";break;case"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="decorative cosmetics";break;case"\u041f\u0430\u0440\u0444\u0443\u043c\u0438":s="perfume";break;case"\u041c\u0430\u043d\u0456\u043a\u044e\u0440 \u0456 \u043f\u0435\u0434\u0438\u043a\u044e\u0440":s="manicure and pedicure";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u0432\u043e\u043b\u043e\u0441\u0441\u044f":s="hair cosmetics";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u0431\u043b\u0438\u0447\u0447\u044f":s="face cosmetics";break;case"\u0422\u0456\u043b\u043e \u0456 \u0432\u0430\u043d\u043d\u0430":s="body and bath";break;case"\u0414\u043e\u0433\u043b\u044f\u0434 \u0437\u0430 \u0441\u043e\u0431\u043e\u044e":s="self-care";break;case"\u0422\u0435\u0445\u043d\u0456\u043a\u0430 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="techniques for beauty";break;case"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043d\u0430\u0431\u043e\u0440\u0438":s="gift sets";break;case"\u0414\u0435\u0437\u0456\u043d\u0444\u0456\u043a\u0443\u044e\u0447\u0438 \u0437\u0430\u0441\u043e\u0431\u0438":s="disinfectants";break;case"\u041c\u0435\u0434\u0438\u0447\u043d\u0456 \u043f\u0440\u0438\u043b\u0430\u0434\u0438":s="medical devices";break;case"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0430\u043f\u0442\u0435\u043a\u0430":s="home pharmacy";break;case"\u041e\u043f\u0442\u0438\u043a\u0430":s="optics";break;default:s=t}return{categoryName:r,subCategoryName:s}}r.d(t,{a:function(){return s}})},8596:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var s=r(2791),a=r(9434),n=r(4805),c=r(9325),i=r(9869),o=r(5602),u=r(1412),l=r(3303),d=r(3214),m=r(5861),p=r(1413),h=r(885),f=r(4687),k=r.n(f),b=r(1087),_=r(7689),x=r(1134),v=r(9126),j=r(860),N=r(5557),y=r(4347),B=r(8646),w=r(5399),g=r(6382),z=r(8820),C={priceAndQuantity:"CountBlock_priceAndQuantity__S0M30",smallBox:"CountBlock_smallBox__TOm4i",buttonWrapper:"CountBlock_buttonWrapper__oMVTy",sumValue:"CountBlock_sumValue__PsIX+",quantValue:"CountBlock_quantValue__ElQu5"},I=r(184),Z=function(e){var t=e.number,r=e.price,s=e.onMinus,a=e.onPlus,n=e.id;return(0,I.jsxs)("div",{className:C.priceAndQuantity,children:[(0,I.jsxs)("div",{className:C.smallBox,children:[(0,I.jsx)("div",{className:C.key,children:"\u0426\u0456\u043d\u0430"}),(0,I.jsx)("div",{className:C.sumValue,children:"".concat(r," \u0433\u0440\u043d.")})]}),(0,I.jsxs)("div",{className:C.smallBox,children:[(0,I.jsx)("div",{className:C.key,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,I.jsxs)("div",{className:C.buttonWrapper,children:[(0,I.jsx)("button",{type:"button",onClick:function(){return s(n)},children:(0,I.jsx)(z.ywL,{})}),(0,I.jsx)("span",{className:C.quantValue,children:t}),(0,I.jsx)("button",{type:"button",onClick:function(){return a(n)},children:(0,I.jsx)(z.Lfi,{})})]})]}),(0,I.jsxs)("div",{className:C.smallBox,children:[(0,I.jsx)("div",{className:C.key,children:"\u0421\u0443\u043c\u0430"}),(0,I.jsx)("div",{className:C.sumValue,children:"".concat(t*r," \u0433\u0440\u043d.")})]})]})},W="SizesWithoutSelect_wrapper__Xt5d9",A="SizesWithoutSelect_menuGroupList__sjJJa",S="SizesWithoutSelect_sizeAndCountWrapper__znW05",q="SizesWithoutSelect_size__iLKfd",P=function(e){var t=e.sizes,r=e.text,s=e.price,a=e.onDecrement,n=e.onIncrement,c=e.id;console.log("sizes:",t);var i=t?t.map((function(e){return{sizeId:e.name,value:e.value,quantity:e.quantity}})):[];return console.log("transformedSizes",i),(0,I.jsxs)("div",{className:W,children:[(0,I.jsx)(d.Z,{text:r,textClass:"productLabels"}),(0,I.jsx)("ul",{className:A,children:i.map((function(e){return(0,I.jsxs)("li",{className:S,children:[(0,I.jsx)("div",{className:q,children:(0,I.jsx)(d.Z,{text:e.value[0].EU?"EU: ".concat(e.value[0].EU," / UA: ").concat(e.value[1].UA," / IN: ").concat(e.value[2].IN):"".concat(e.sizeId),textClass:"after-title-bigger"})}),(0,I.jsx)(Z,{number:e.quantity,price:s,onMinus:function(){return a(c,e.sizeId)},onPlus:function(){return n(c,e.sizeId)},id:e.sizeId})]},(0,g.x0)())}))})]})},F=r(4458),U=r(990),V=r(8785),M={form:"BasketForm_form__McQNL",wareItem:"BasketForm_wareItem__BoKOF",photoAndNameAndPrice:"BasketForm_photoAndNameAndPrice__1MFhL",photoAndName:"BasketForm_photoAndName__vdqmP",thumb:"BasketForm_thumb__CAQkW",mainPhotoCard:"BasketForm_mainPhotoCard__UB-mL",descriptionWrapper:"BasketForm_descriptionWrapper__e1Er5",sizesAndButtonWrapper:"BasketForm_sizesAndButtonWrapper__zgizA",linkWrapper:"BasketForm_linkWrapper__hx6ri",btnWrapper:"BasketForm_btnWrapper__tsYH4"},T=function(e){var t=e.ownerId,r=e.ownerName,n=e.products,c=(e.isTablet,(0,a.I0)()),i=(0,_.s0)(),o=(0,s.useState)(null),u=(0,h.Z)(o,2),l=u[0],f=u[1],g=(0,s.useState)(!1),z=(0,h.Z)(g,2),C=z[0],Z=z[1],W=(0,a.v9)(B.Bi);console.log("products:",n);var A=n.map((function(e){var t=e.size.map((function(e){return(0,p.Z)((0,p.Z)({},e[0]),{},{quantity:e.length})}));return{_id:e._id,quantity:e.size.length,size:t,price:e.price,sum:e.size.length*e.price}}));console.log("preOrederedProducts:",A);var S=(0,s.useState)(A),q=(0,h.Z)(S,2),T=q[0],L=q[1];console.log("orderedProducts:",T);var E=T.sort((function(e,t){return e.sum-t.sum})).reduce((function(e,t){return e+t.sum}),0),O=function(e){f(e),Z(!0)},Q=function(e,t){L((function(r){return r.map((function(r){if(r._id===e){var s=r.size.map((function(e){if(e.name===t){var r=(0,p.Z)({},e);return r.quantity-=1,r}return e})),a=s.reduce((function(e,t){return e+t.quantity}),0),n=a*r.price;return(0,p.Z)((0,p.Z)({},r),{},{size:s,quantity:a,sum:n})}return r}))}))},D=function(e,t){L((function(r){return r.map((function(r){if(r._id===e){var s=r.size.map((function(e){if(e.name===t){var r=(0,p.Z)({},e);return r.quantity+=1,r}return e})),a=s.reduce((function(e,t){return e+t.quantity}),0),n=a*r.price;return(0,p.Z)((0,p.Z)({},r),{},{size:s,quantity:a,sum:n})}return r}))}))},R=(0,x.cI)({defaultValues:{ownerId:t||"",ownerName:r||"",products:T||[],totalSum:E||null}}).handleSubmit,J=function(){var e=(0,m.Z)(k().mark((function e(r,s){var a,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),a={ownerId:t,ownerName:r.ownerName,products:T,totalSum:E},console.log("\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u043e\u0440\u043c\u0438",a),W.sellerId!==t){e.next=7;break}return console.log("order exist"),e.next=7,c((0,y.hg)(W._id));case 7:return e.next=9,c((0,y.fS)(a));case 9:n=e.sent,console.log("newOrder",n),n.payload.newOrderId&&i("/checkout");case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,I.jsxs)("form",{className:M.form,onSubmit:R(J),children:[(0,I.jsx)(d.Z,{textClass:"title",text:"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446\u044c: ".concat(r)}),(0,I.jsx)("ul",{className:M.oneSellerBasket,children:n.map((function(e){var t,r=e._id,s=e.nameProduct,a=e.mainPhotoUrl,n=e.brendName,c=e.price,i=e.size,o=e.section,u=e.category,l=(0,V.a)(o,u),m=Object.values(l),p=(0,h.Z)(m,2),f=p[0],k=p[1],_=(null===(t=T.find((function(e){return e._id===r})))||void 0===t?void 0:t.size)||i;return(0,I.jsx)("li",{className:M.wareItem,children:(0,I.jsxs)("div",{className:M.photoAndNameAndPrice,children:[(0,I.jsxs)("div",{className:M.photoAndName,children:[(0,I.jsx)(b.rU,{to:"/products/".concat(f,"/").concat(k,"/").concat(r),children:(0,I.jsx)("div",{className:M.thumb,children:(0,I.jsx)("img",{className:M.mainPhotoCard,src:a,onError:function(e){return e.target.src=F},alt:s})})}),(0,I.jsxs)("div",{className:M.descriptionWrapper,children:[(0,I.jsx)(d.Z,{textClass:"verifyAttention",text:n}),(0,I.jsx)(d.Z,{textClass:"verifyAttention",text:s})]})]}),(0,I.jsxs)("div",{className:M.sizesAndButtonWrapper,children:[(0,I.jsx)(P,{sizes:_,text:"\u041e\u0431\u0440\u0430\u043d\u0438\u0439 \u0440\u043e\u0437\u043c\u0456\u0440:",price:c,onDecrement:Q,onIncrement:D,id:r}),(0,I.jsx)(w.Z,{icon:v.yvY,handleClick:O,id:r})]})]})},r)}))}),(0,I.jsxs)("div",{className:M.linkWrapper,children:[(0,I.jsxs)(b.rU,{to:"/seller/:id",className:M.btnWrapper,children:[(0,I.jsx)(d.Z,{textClass:"verifyAttention",text:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0456\u043d\u0448\u0456 \u0442\u043e\u0432\u0430\u0440\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044f"}),(0,I.jsx)(w.Z,{icon:j.S3W})]}),(0,I.jsxs)(b.rU,{to:"/checkout",className:M.btnWrapper,children:[(0,I.jsx)(d.Z,{textClass:"verifyAttention",text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 \u0441\u0443\u043c\u0443 ".concat(E," \u0433\u0440\u043d.")}),(0,I.jsx)(w.Z,{icon:j.eoy,onClick:R(J)})]})]}),C&&(0,I.jsx)(U.Z,{text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440 \u0437 \u043a\u043e\u0448\u0438\u043a\u0430?",confirmButtons:!0,onConfirm:function(e){"yes"===e?(c((0,N.nC)({productId:l})),Z(!1)):"no"===e&&(f(null),Z(!1))}})]})},L="Basket_basketsSection__o54-0",E="Basket_orderList__okTma",O="Basket_orderItem__khi0G",Q=function(){var e=(0,a.I0)(),t=(0,a.v9)(c.FC),r=(0,a.v9)(i.PR),m=(0,a.v9)(c.kD),p=(0,a.v9)(c.MJ),h=(0,a.v9)(i.B8),f=(0,n.useMediaQuery)({minWidth:768}),k=p.map((function(e){var t=e.username,r=e._id,s=m.filter((function(e){return e.owner===r})).map((function(e){var t=h.flatMap((function(e){return e})).find((function(t){return t.productId===e._id})),r=t?t.selectedSizes:[];return{_id:e._id,brendName:e.brendName,nameProduct:e.nameProduct,mainPhotoUrl:e.mainPhotoUrl,price:e.price,quantity:e.quantity,size:r,section:e.section,category:e.category}}));return{ownerId:r,ownerName:t,products:s}}));return(0,s.useEffect)((function(){e((0,o.gU)(r._id))}),[e,r]),(0,I.jsx)(u.Z,{children:(0,I.jsxs)("section",{className:L,children:[""===t&&(0,I.jsx)(l.Z,{}),(0,I.jsx)(d.Z,{textClass:"title",text:"\u041a\u043e\u0448\u0438\u043a"}),(0,I.jsx)("ul",{className:E,children:k.map((function(e){var t=e.ownerId,r=e.ownerName,s=e.products;return(0,I.jsx)("li",{className:O,children:(0,I.jsx)(T,{ownerId:t,ownerName:r,products:s,isTablet:f})},t)}))})]})})},D=function(){return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(Q,{})})}}}]);
//# sourceMappingURL=596.6dc7e16f.chunk.js.map