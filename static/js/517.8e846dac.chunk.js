"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[517],{1412:function(e,t,r){var s=r(184);t.Z=function(e){var t=e.children;return(0,s.jsx)("div",{className:"container",children:t})}},1023:function(e,t,r){r.d(t,{Z:function(){return s.Z}});var s=r(1412)},9462:function(e,t,r){r.d(t,{Z:function(){return h}});var s=r(1087),a=r(3214),c=r(4458),n="OrderProductsList_productItem__uQkyy",l="OrderProductsList_infoWraper__q9A2H",o="OrderProductsList_mainInfo__MnIWV",i="OrderProductsList_thumb__oGhpS",d="OrderProductsList_mainPhoto__2vOtt",u="OrderProductsList_description__AFr5I",m="OrderProductsList_sizeQuantity__imNh1",x="OrderProductsList_sizeQuantityWrapper__lx-2f",_="OrderProductsList_priceWrapper__cu6Qt",f=r(184),h=function(e){var t=e.productsForOrder,r=e.products;return(0,f.jsx)("ul",{children:t&&t.map((function(e){var t,h=e._id,p=e.nameProduct,v=e.mainPhotoUrl,N=e.brendName,j=e.price,Z=e.size,C=e.sale,b=e.section,g=e.category,y=(null===(t=r.find((function(e){return e._id===h})))||void 0===t?void 0:t.size)||Z,S=y.map((function(e){return e.name})),k=y.map((function(e){return e.quantity})),P=C?j*(100-C)/100:j,O=k.reduce((function(e,t){return e+t}),0)*P;return(0,f.jsx)("li",{className:n,children:(0,f.jsxs)("div",{className:l,children:[(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)(s.rU,{to:"/product/".concat(b,"/").concat(g,"/").concat(h),children:(0,f.jsx)("div",{className:i,children:(0,f.jsx)("img",{className:d,src:v,onError:function(e){return e.target.src=c},alt:p})})}),(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(a.Z,{textClass:"productText",text:N}),(0,f.jsx)(s.rU,{to:"/products/".concat(b,"/").concat(g,"/").concat(h),children:(0,f.jsx)(a.Z,{textClass:"productHeadings",text:p})}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("div",{className:x,children:S.map((function(e){return(0,f.jsx)(a.Z,{textClass:"productText",text:"Size: ".concat(e)},e)}))}),(0,f.jsx)("div",{className:x,children:k.map((function(e,t){return(0,f.jsx)(a.Z,{textClass:"productText",text:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ".concat(e)},t)}))})]})]})]}),(0,f.jsx)("div",{className:_,children:(0,f.jsx)(a.Z,{textClass:"productHeadings",text:"\u0421\u0443\u043c\u0430: ".concat(O," \u0433\u0440\u043d.")})})]})},h)}))})}},6091:function(e,t,r){r.d(t,{Z:function(){return i}});var s=r(1413),a=r(2791),c=r(7497),n={label:"SelectField_label__Y87wK",headerLabel:"SelectField_headerLabel__4409s",select:"SelectField_select__bwshq",headerSelect:"SelectField_headerSelect__V-FA+",addProduct:"SelectField_addProduct__NX8YD",vip:"SelectField_vip__T0M33",changeProfile:"SelectField_changeProfile__33cVK",filterSection:"SelectField_filterSection__G42Ks",addOrder:"SelectField_addOrder__GDM6L"},l=r(184),o={placeholder:function(e){return(0,s.Z)((0,s.Z)({},e),{},{fontSize:"16px",color:"var(--second-text-color)",pointerEvents:"none"})}},i=(0,a.forwardRef)((function(e,t){var r=e.name,a=e.value,i=e.handleChange,d=e.placeholder,u=e.required,m=e.options,x=e.className,_=e.defaultValue,f=x?"".concat(n.label," ").concat(n[x]):"".concat(n.label),h=x?"".concat(n.select," ").concat(n[x]):"".concat(n.select);return(0,l.jsx)("label",{className:f,children:(0,l.jsx)(c.ZP,{classNamePrefix:"custom-select",className:h,name:r,value:a,onChange:i,defaultValue:_,placeholder:d,required:u,options:m.map((function(e){return{value:e,label:e}})),styles:o,ref:t,theme:function(e){return(0,s.Z)((0,s.Z)({},e),{},{borderRadius:0})}})})}))},517:function(e,t,r){r.r(t),r.d(t,{default:function(){return W}});var s=r(1413),a=r(7762),c=r(5861),n=r(885),l=r(4687),o=r.n(l),i=r(2791),d=r(7689),u=r(9434),m=r(8646),x=r(4676),_=r(4347),f=r(9869),h=r(1134),p=r(1023),v=r(3214),N=r(8704),j=r(6091),Z=r(9833),C=r(9462),b=r(1307),g="Checkout_default__x8sV0",y="Checkout_defaultBox__MXYrl",S="Checkout_formWrapper__Mq7aG",k="Checkout_orderInfo__xjm9d",P="Checkout_title__607ux",O="Checkout_formField__nW0Yf",F="Checkout_sumWrapper__NkCfR",T="Checkout_sumTitle__1OL+2",L="Checkout_sumBox__FRsJy",I=r(184),q=function(e){var t=e.labelText,r=e.controllerName,a=e.fieldName,c=e.control,n=e.register;return(0,I.jsxs)("div",{className:O,children:[(0,I.jsx)(v.Z,{text:t,textClass:"productHeadings"}),(0,I.jsx)(h.Qr,{control:c,name:r,rules:{required:!0},render:function(e){var t=e.field,l=t.onChange,o=t.value;return(0,I.jsx)(b.Z,(0,s.Z)((0,s.Z)({className:"addOrder",value:o,control:c,handleChange:l},N.E[a]),{},{required:!0},n("".concat(r),{required:"\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u043e \u0434\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043d\u044f"})))}})]})},w=function(){var e,t,r=(0,u.I0)(),l=(0,d.s0)(),b=null!==(e=null===(t=(0,d.TH)().state)||void 0===t?void 0:t.orderId)&&void 0!==e?e:null;(0,i.useEffect)((function(){b&&(r((0,_.HG)(b)),window.scrollTo({top:0,behavior:"smooth"}))}),[r,b]);var w=(0,u.v9)(m.NW),W=(0,u.v9)(m.nn),H=(0,u.v9)(m.Wc),V=(0,u.v9)(f.PR),z=(0,i.useState)(""),M=(0,n.Z)(z,2),Q=M[0],D=M[1],E=w.client,G=w.orderSum,R=w.sellerName,Y=w._id,A=w.products,K=w.orderNumber,U=V.secondName,B=V.firstName,X=V.surName,J=V.tel,$=(0,h.cI)({defaultValues:{delivery:"",secondName:U||"",firstName:B||"",surName:X||"",tel:J||"",department:"",city:""}}),ee=$.control,te=$.handleSubmit,re=$.register,se=function(){var e=(0,c.Z)(o().mark((function e(t,s){var c,n,i,d,u,m,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),c={orderId:Y,delivery:"".concat(t.delivery.value,", ").concat(t.city,", ").concat(t.department),customerSecondName:t.secondName,customerFirstName:t.firstName,customerSurName:t.surName,customerTel:t.tel,customerId:E.customerId},e.next=4,r((0,_.Cs)(c));case 4:n=e.sent,i=(0,a.Z)(W),e.prev=6,i.s();case 8:if((d=i.n()).done){e.next=15;break}return u=d.value,m=u._id,f=u.owner,e.next=13,r((0,x.al)({productId:m,productOwner:f,typeDialogue:"checkout"}));case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:200===n.payload.code&&l("/profile/mypurchases");case 24:case"end":return e.stop()}}),e,null,[[6,17,20,23]])})));return function(t,r){return e.apply(this,arguments)}}(),ae="\u0423\u043a\u0440\u041f\u043e\u0448\u0442\u0430"===Q?"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043d\u0434\u0435\u043a\u0441(\u043d\u043e\u043c\u0435\u0440) \u0432\u0456\u0434\u0434\u0456\u043b\u0435\u043d\u043d\u044f*":"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0432\u0456\u0434\u0434\u0456\u043b\u0435\u043d\u043d\u044f*";return(0,I.jsx)(p.Z,{children:(0,I.jsx)("section",{className:g,children:(0,I.jsx)("div",{className:y,children:!H&&(0,I.jsxs)("form",{onSubmit:te(se),className:S,children:[(0,I.jsxs)("div",{className:k,children:[(0,I.jsxs)("h2",{className:P,children:["\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2116 ",K]}),(0,I.jsx)(v.Z,{textClass:"productHeadings",text:"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446\u044c: ".concat(R)}),(0,I.jsx)(v.Z,{textClass:"title",text:"\u0421\u0443\u043c\u0430 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ".concat(G," \u0433\u0440\u043d.")}),W&&A&&(0,I.jsx)(C.Z,{productsForOrder:W,products:A}),(0,I.jsxs)("div",{className:O,children:[(0,I.jsx)(v.Z,{textClass:"title",text:"\u0421\u043f\u043e\u0441\u0456\u0431 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),(0,I.jsx)(h.Qr,{control:ee,name:"delivery",rules:{required:!0},render:function(e){var t=e.field,r=t.onChange,a=t.value;return(0,I.jsx)(j.Z,(0,s.Z)((0,s.Z)({value:a,handleChange:function(e){r(e),D(e.value)},className:"addOrder"},N.E.delivery),{},{options:["\u041d\u043e\u0432\u0430 \u043f\u043e\u0448\u0442\u0430","\u0423\u043a\u0440\u041f\u043e\u0448\u0442\u0430","Meest"]},re("delivery",{required:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})))}})]}),(0,I.jsx)(q,{labelText:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e*",controllerName:"city",fieldName:"city",control:ee,register:re}),(0,I.jsx)(q,{labelText:ae,controllerName:"department",fieldName:"deliveryDepartment",control:ee,register:re}),(0,I.jsxs)("div",{children:[(0,I.jsx)(v.Z,{textClass:"title",text:"\u0412\u0430\u0448\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0456 \u0434\u0430\u043d\u0456"}),(0,I.jsx)(q,{labelText:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435*",controllerName:"secondName",fieldName:"secondName",control:ee,register:re}),(0,I.jsx)(q,{labelText:"\u0406\u043c'\u044f*",controllerName:"firstName",fieldName:"firstName",control:ee,register:re}),(0,I.jsx)(q,{labelText:"\u041f\u043e \u0431\u0430\u0442\u044c\u043a\u043e\u0432\u0456*",controllerName:"surName",fieldName:"surName",control:ee,register:re}),(0,I.jsx)(q,{labelText:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d +380*",controllerName:"tel",fieldName:"tel",control:ee,register:re})]})]}),(0,I.jsxs)("div",{className:F,children:[(0,I.jsx)("p",{className:T,children:"\u0420\u0430\u0437\u043e\u043c"}),(0,I.jsxs)("div",{className:L,children:[(0,I.jsx)(v.Z,{textClass:"after-title-bigger",text:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,I.jsx)("span",{children:G})]}),(0,I.jsxs)("div",{className:L,children:[(0,I.jsx)(v.Z,{textClass:"title",text:"\u0414\u043e \u043e\u043f\u043b\u0430\u0442\u0438"}),(0,I.jsx)(v.Z,{textClass:"title",text:G})]}),(0,I.jsx)(Z.Z,{type:"submit",btnClass:"btnLight",text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438",handleClick:te(se)})]})]})})})})},W=function(){return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(w,{})})}},4458:function(e,t,r){e.exports=r.p+"static/media/no_photo.e1c9f7d877f5eac85cc7.jpg"}}]);
//# sourceMappingURL=517.8e846dac.chunk.js.map