"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[528],{7059:function(e,t,a){a(2791);t.Z=a.p+"static/media/avatar.27ffa8cc08b4da221c5a83ff4cbb218c.svg"},4387:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(1413),s=a(4925),r=a(7059),i={photoAvatar:"Avatar_photoAvatar__y+tns",photo:"Avatar_photo__VHgBi",photoDialogue:"Avatar_photoDialogue__Aae+I",photoDialogueLeft:"Avatar_photoDialogueLeft__UOJtl",photoDialogueRight:"Avatar_photoDialogueRight__C5CPU"},c=a(184),o=["src","alt","avatarClass","width","heigth"],l=function(e){var t=e.src,a=e.alt,l=e.avatarClass,u=e.width,d=e.heigth,_=(0,s.Z)(e,o);return t?(0,c.jsx)("img",(0,n.Z)({src:t,alt:a,className:i[l],width:u,height:d},_)):(0,c.jsx)("img",{src:r.Z,alt:"Avatar",className:i[l]})};l.defaultProps={alt:"avatar",avatarClass:"",width:72,height:72};var u=l},7528:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var n=a(1413),s=a(885),r=a(2791),i=a(9434),c=a(1087),o=a(4805),l=a(9053),u=a(1970),d=a(9869),_=a(2696),h=a(7497),v=a(4387),f=a(403),x=a(5399),m=a(9126),p="MyReviews_reviewsPageWrapper__+wyt9",b="MyReviews_reviewsListWrapper__x8T7e",w="MyReviews_heading__ng7cx",g="MyReviews_optionsList__ZgWyT",k="MyReviews_selectButton__+oUqF",j="MyReviews_active__0oo3k",N="MyReviews_message__4EkFt",y="MyReviews_reviewsWrapper__p74Uo",C="MyReviews_reviewBox__G9K+0",R="MyReviews_avatarBox__W-a8z",M="MyReviews_topReviewWrapper__nzCoe",W="MyReviews_reviewerName__KCu9E",B="MyReviews_reviewWrapper__G92ZD",Z="MyReviews_productName__WTIj7",F="MyReviews_productFeedback__xgaOg",S="MyReviews_buttonTrashWrapper__6R54f",T=a(5861),D=a(4687),E=a.n(D),L=a(1134),U=a(5211),A=a(3853),I=a(9833),V="EditFeedbackWindow_windowBackdrop__RrByC",z="EditFeedbackWindow_closeButton__Yk5GG",G="EditFeedbackWindow_feedbackForm__eMqjK",q="EditFeedbackWindow_windowContainer__VloNX",K="EditFeedbackWindow_heading__mHrXg",P="EditFeedbackWindow_starsBox__Tz4X+",X="EditFeedbackWindow_ratingNumber__-FBTt",O="EditFeedbackWindow_feedbackTitle__5x9ov",H="EditFeedbackWindow_textarea__OwjR9",Q=a(184),J=function(e){var t=e.hideWindow,a=e.reviewToFeedbackWindow,c=(0,i.I0)(),o=(0,i.v9)(d.Vg),l=a.rating,_=a.feedback,h=a.id,v=(0,r.useState)(l),x=(0,s.Z)(v,2),m=x[0],p=x[1],b="".concat(Number(m).toFixed(1)),w=(0,L.cI)({defaultValues:{rating:m,feedback:_}}),g=w.control,k=w.handleSubmit,j=w.reset,N=w.register,y=function(){var e=(0,T.Z)(E().mark((function e(a,n){var s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s={reviewId:h,rating:m,feedback:a.feedback},e.next=4,c((0,u.GM)(s));case 4:c((0,u.Dy)({userId:o})),(0,U.V)(c),j(),t();case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return(0,Q.jsx)("div",{className:V,children:(0,Q.jsxs)("div",{className:q,children:[(0,Q.jsx)("button",{className:z,onClick:function(){return t()},children:(0,Q.jsx)(A.q5L,{})}),(0,Q.jsx)("p",{className:K,children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0456\u0434\u0433\u0443\u043a"}),(0,Q.jsxs)("form",{className:G,children:[(0,Q.jsxs)("div",{className:P,children:[(0,Q.jsx)(f.Z,{rating:m,size:32,setFeedbackRating:function(e){return p(e+1)}}),(0,Q.jsx)("p",{className:X,children:b})]}),(0,Q.jsx)("p",{className:O,children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0439\u0442\u0435 \u0441\u0432\u0456\u0439 \u0432\u0456\u0434\u0433\u0443\u043a:"}),(0,Q.jsx)(L.Qr,{control:g,name:"feedback",render:function(e){var t=e.field,a=t.onChange,s=t.value;return(0,Q.jsx)("textarea",(0,n.Z)({className:H,value:s,onChange:a,name:"feedback",type:"text",rows:4,cols:40},N("feedback",{required:"\u041d\u0430\u043f\u0438\u0448\u0456\u0442\u044c \u0432\u0456\u0434\u0433\u0443\u043a"})))}}),(0,Q.jsx)(I.Z,{type:"submit",btnClass:"btnLight",text:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u0432\u0456\u0434\u0433\u0443\u043a",handleClick:k(y)})]})]})})},Y=function(){var e=(0,i.I0)(),t=(0,i.v9)(d.Vg),a=(0,i.v9)(l.UW),T=(0,i.v9)(l.bG),D=(0,i.v9)(l.Hk),E=(0,o.useMediaQuery)({minWidth:768}),L=(0,i.v9)(d.D3),U=(0,i.v9)(d.Qk),A=U.filter((function(e){return"asCustomer"===e.feedbackType})),I=U.filter((function(e){return"asSeller"===e.feedbackType})),V=(0,r.useState)(!1),z=(0,s.Z)(V,2),G=z[0],q=z[1],K=(0,r.useState)({}),P=(0,s.Z)(K,2),X=P[0],O=P[1],H=(0,c.lr)(),Y=(0,s.Z)(H,2),$=Y[0],ee=Y[1],te=$.get("type");(0,r.useEffect)((function(){e((0,_.nw)()),"asSeller"===te&&e((0,u.KL)({userId:t,feedbackType:"asSeller"})),"asCustomer"===te&&e((0,u.KL)({userId:t,feedbackType:"asCustomer"})),"asUser"===te&&e((0,u.Dy)({userId:t}))}),[e,t,te]);var ae=function(e){ee({type:e})},ne="asUser"===te?a:T,se=function(e,t,a){if(e)return O({id:e,rating:t,feedback:a}),void q(!G);O({}),q(!G)};return(0,r.useEffect)((function(){document.body.style.overflow=G?"hidden":"unset"}),[G]),(0,Q.jsxs)("div",{className:p,children:[(0,Q.jsxs)("div",{className:b,children:[(0,Q.jsx)("p",{className:w,children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438"}),!E&&(0,Q.jsx)(h.ZP,{classNamePrefix:"custom-select",onChange:function(e){return ae(e.value)},options:[{value:"asSeller",label:"\u042f\u043a \u043f\u0440\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044f ".concat(A.length)},{value:"asCustomer",label:"\u042f\u043a \u043f\u0440\u043e \u043f\u043e\u043a\u0443\u043f\u0446\u044f ".concat(I.length)},{value:"asUser",label:"\u041c\u043e\u0457 \u0432\u0456\u0434\u0433\u0443\u043a\u0438 ".concat(L.length)}],defaultValue:{value:"asSeller",label:"\u042f\u043a \u043f\u0440\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044f ".concat(A.length)},theme:function(e){return(0,n.Z)((0,n.Z)({},e),{},{borderRadius:0})}}),E&&(0,Q.jsxs)("ul",{className:g,children:[(0,Q.jsx)("li",{children:(0,Q.jsxs)("button",{className:"asSeller"===te?"".concat(k," ").concat(j):k,onClick:function(){return ae("asSeller")},children:["\u042f\u043a \u043f\u0440\u043e \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044f ",A.length]})}),(0,Q.jsx)("li",{children:(0,Q.jsxs)("button",{className:"asCustomer"===te?"".concat(k," ").concat(j):k,onClick:function(){return ae("asCustomer")},children:["\u042f\u043a \u043f\u0440\u043e \u043f\u043e\u043a\u0443\u043f\u0446\u044f ",I.length]})}),(0,Q.jsx)("li",{children:(0,Q.jsxs)("button",{className:"asUser"===te?"".concat(k," ").concat(j):k,onClick:function(){return ae("asUser")},children:["\u041c\u043e\u0457 \u0432\u0456\u0434\u0433\u0443\u043a\u0438 ",L.length]})})]})]}),!D&&0===ne.length&&(0,Q.jsx)("p",{className:N,children:"\u0422\u0443\u0442 \u043f\u043e\u043a\u0438 \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435\u043c\u0430\u0454"}),ne.length>0&&(0,Q.jsx)("ul",{className:y,children:ne.map((function(e){var t=e._id,a=e.reviewer,n=e.rating,s=e.reviewDate,r=e.products,i=e.feedback;return(0,Q.jsxs)("li",{className:C,children:[(0,Q.jsx)("div",{className:R,children:(0,Q.jsx)(v.Z,{src:a.reviewerFoto})}),(0,Q.jsxs)("div",{className:B,children:[(0,Q.jsxs)("div",{className:M,children:[(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:W,children:a.reviewerName}),(0,Q.jsx)(f.Z,{rating:n,size:16})]}),(0,Q.jsx)("p",{children:s})]}),(0,Q.jsx)("ul",{className:Z,children:r.map((function(e){return(0,Q.jsx)("li",{children:e.nameProduct},e._id)}))}),(0,Q.jsx)("p",{className:F,children:i})]}),"asUser"===te&&(0,Q.jsx)("div",{className:S,children:(0,Q.jsx)(x.Z,{btnClass:E?"roundButton":"roundButtonMob",icon:m.jox,handleClick:function(){return se(t,n,i)},id:t})}),G&&(0,Q.jsx)(J,{hideWindow:se,reviewToFeedbackWindow:X})]},t)}))})]})}},5399:function(e,t,a){a.d(t,{Z:function(){return r}});var n={roundButton:"RoundButton_roundButton__nMjVe",scrollButton:"RoundButton_scrollButton__WegW6",icon:"RoundButton_icon__X5lVR",iconMob:"RoundButton_iconMob__1fMf0",roundButtonMob:"RoundButton_roundButtonMob__M4hXA"},s=a(184),r=function(e){var t=e.icon,a=e.btnClass,r=e.handleClick,i=e.id,c=e.onClick,o=a||"roundButton",l="roundButtonMob"===a?"iconMob":"icon";return(0,s.jsx)("div",{className:n[o],onClick:function(e){r&&r(i),c&&c(e)},children:(0,s.jsx)(t,{className:n[l]})})}},403:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(9126),s="StarsList_starButton__wOzyA",r="StarsList_iconlist__Dq6US",i="StarsList_iconEmpty__hGQHK",c="StarsList_iconFilled__xX35g",o=a(184),l=function(e){var t=e.rating,a=e.size,l=e.setFeedbackRating;return(0,o.jsx)("ul",{className:r,children:function(){var e=Math.round(t),r=[];if(!l){for(var u=0;u<5;u++){var d=c;u>=e&&(d=i),r.push((0,o.jsx)("li",{children:(0,o.jsx)(n.kRm,{className:d,size:"".concat(a,"px")})},u))}return r}for(var _=function(t){var u=c;t>=e&&(u=i),r.push((0,o.jsx)("li",{children:(0,o.jsx)("button",{type:"button",onClick:function(){return l(t)},className:s,children:(0,o.jsx)(n.kRm,{className:u,size:"".concat(a,"px")})})},t))},h=0;h<5;h++)_(h);return r}()})}},5211:function(e,t,a){a.d(t,{V:function(){return s}});var n=a(9505),s=function(e){var t=JSON.parse(localStorage.getItem("easy-shop.authData"));if(t&&t.accessToken){var a={accessToken:t.accessToken,refreshToken:t.refreshToken,sid:t.sid};e((0,n.Nq)(a))}}}}]);
//# sourceMappingURL=528.a779d624.chunk.js.map