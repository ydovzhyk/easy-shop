"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[225],{7059:function(e,t,a){a(2791);t.Z=a.p+"static/media/avatar.27ffa8cc08b4da221c5a83ff4cbb218c.svg"},9803:function(e,t,a){a.d(t,{Z:function(){return y}});var s=a(5861),n=a(885),r=a(4687),i=a.n(r),o=a(2791),c=a(9434),u=a(7689),l=a(4676),d=a(9869),x=a(2205),g=a(2951),_=a(3214),f=a(4387),h=a(9833),m="Dialogue_dialogueContainer__FuS7j",v="Dialogue_additionalOpts__o-iwF",b="Dialogue_avatar__Snahc",p="Dialogue_textInputArea__7QqLK",j="Dialogue_dialogueGroup__CccDt",D="Dialogue_dialogueGroupCustomer__bT6EX",k="Dialogue_dialogueBox__Zqye0",N="Dialogue_dialogueMessage__tL3Cl",C="Dialogue_dialogueMessageRight__KBBVw",w="Dialogue_textDate__qAQ-I",Z="Dialogue_textarea__F4Goc",B="Dialogue_questionButton__et0nJ",M=a(184),y=function(e){var t=e.productInfo,a=(0,c.I0)(),r=(0,u.s0)(),y=t._id,I=t.owner,L=t.userDialogue,T=t.customer,A=t.seller,S=(0,c.v9)(d.Dm),W=(0,c.v9)(d.PR),R=(0,c.v9)(d.t2),E=(0,c.v9)(x.kr),P=(0,c.v9)(x.J$),U=(0,o.useState)(""),O=(0,n.Z)(U,2),G=O[0],F=O[1],Y=(0,o.useState)(!1),q=(0,n.Z)(Y,2),H=q[0],J=q[1],Q=(0,o.useState)(null),X=(0,n.Z)(Q,2),V=X[0],z=X[1],$=(0,o.useState)(null),K=(0,n.Z)($,2),ee=K[0],te=K[1],ae=(0,o.useState)(null),se=(0,n.Z)(ae,2),ne=se[0],re=se[1],ie=(0,o.useRef)(!1),oe=(0,c.v9)(x.iH),ce=[],ue=[],le=!1;(0,o.useEffect)((function(){!y||T||A||z(y),y&&T&&(z(y),te(T)),y&&A&&(z(y),re(A))}),[y,T,A]),(0,o.useEffect)((function(){if(E.length>0&&!P){var e=E.filter((function(e){return e.newMessages.some((function(e){return e.userReceiver===W._id}))})),t=oe._id?oe._id:L;e.some((function(e){return e._id===t}))&&(a((0,g.vz)(!0)),a((0,g.qy)(t)))}}),[a,E,W._id,oe._id,L,P]),(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.current=!1,J(!1),a((0,g.ve)()),a((0,g.vz)(!1)),V&&R&&!L){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a((0,l.UA)({productId:V,customerId:ee,sellerId:ne}));case 8:J(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,V,L,R,P,ee,ne]),(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.current=!1,J(!1),a((0,g.ve)()),a((0,g.vz)(!1)),L){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a((0,l.UA)({dialogueId:L}));case 8:J(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,L,P]),(0,o.useEffect)((function(){if(0!==oe.length&&!ie.current&&0!==oe.newMessages.length){var e=oe._id,t=oe.newMessages,n=W._id,r=t.filter((function(e){return e.userReceiver===n})),o=function(){var t=(0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ie.current){t.next=2;break}return t.abrupt("return");case 2:return ie.current=!0,t.next=5,a((0,l.k1)({dialogueId:e,arrayNewMessage:r}));case 5:return t.next=7,a((0,g.fm)(e));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=setTimeout(o,2e4);return function(){clearTimeout(c),o()}}}),[a,oe,W._id]);0===oe.length?(ce=[],ue=[]):(ce=oe.messageArray.slice().reverse(),ue=oe.newMessages,function(e){le="64cccb7e5b8c2eb706fe655d"===e[0].textOwner}(ce));var de=function(e){var t="",a="",s=oe.userAvatar,n=oe.productOwnerAvatar;return W.userAvatar===s?(t=s,a=n):(t=n,a=s),e===W._id?t:a},xe=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,a((0,l.Jc)({text:G,productId:V,productOwner:I,dialogueId:oe._id,customerId:ee,sellerId:ne}));case 3:F(""),e.next=8;break;case 6:return r("/login"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e,t){if(!ue||0===ue.length)return!1;var a=W._id;return 0!==ue.filter((function(s){return s.userReceiver===a&&s.message===e&&s.date===t})).length};return(0,M.jsx)(M.Fragment,{children:H&&(0,M.jsxs)("div",{className:m,children:[!le&&(0,M.jsxs)("div",{className:v,children:[!ee&&!ne&&(0,M.jsx)(_.Z,{text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",textClass:"productText"}),ee&&!ne&&(0,M.jsx)(_.Z,{text:"\u0417\u0430\u043f\u0438\u0442\u0430\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u0446\u044f",textClass:"productText"}),ne&&!ee&&(0,M.jsx)(_.Z,{text:"\u0417\u0430\u043f\u0438\u0442\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044f",textClass:"productText"})]}),0===ce.length&&(0,M.jsx)("div",{className:b,children:(0,M.jsx)(f.Z,{avatarClass:"photoDialogueLeft",src:S})}),ce.length>0&&(0,M.jsx)("ul",{className:ee||ne?D:j,children:ce.map((function(e,t){return(0,M.jsx)("li",{children:(0,M.jsx)("div",{className:k,children:e.textOwner===W._id?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(f.Z,{avatarClass:"photoDialogueLeft",src:de(e.textOwner)}),(0,M.jsxs)("div",{className:N,children:[(0,M.jsx)(_.Z,{text:e.text,textClass:ge(e.text,e.date)?"productTextDialogueNewMessage":"productTextDialogue"}),(0,M.jsx)("div",{className:w,children:(0,M.jsx)(_.Z,{text:e.date,textClass:"productTextDate"})})]})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:C,children:[(0,M.jsx)(_.Z,{text:e.text,textClass:ge(e.text,e.date)?"productTextDialogueNewMessage":"productTextDialogue"}),(0,M.jsx)("div",{className:w,children:(0,M.jsx)(_.Z,{text:e.date,textClass:"productTextDate"})})]}),(0,M.jsx)(f.Z,{avatarClass:"photoDialogueRight",src:de(e.textOwner)})]})})},t)}))}),!le&&(0,M.jsxs)("div",{className:p,children:[(0,M.jsx)("textarea",{className:Z,name:"myQuestion",value:G,onChange:function(e){F(e.target.value)},rows:5,cols:40}),(0,M.jsxs)("div",{className:B,children:[(0,M.jsx)(h.Z,{text:R?"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044f",btnClass:"btnLight",handleClick:function(){return xe(R)}}),!R&&(0,M.jsx)(_.Z,{text:"*\u0429\u043e\u0431 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044e, \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0430\u0431\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044f",textClass:"messageTextBtn"})]})]})]})})}},4387:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(1413),n=a(4925),r=a(7059),i={photoAvatar:"Avatar_photoAvatar__y+tns",photo:"Avatar_photo__VHgBi",photoDialogue:"Avatar_photoDialogue__Aae+I",photoDialogueLeft:"Avatar_photoDialogueLeft__UOJtl",photoDialogueRight:"Avatar_photoDialogueRight__C5CPU"},o=a(184),c=["src","alt","avatarClass","width","heigth"],u=function(e){var t=e.src,a=e.alt,u=e.avatarClass,l=e.width,d=e.heigth,x=(0,n.Z)(e,c);return t?(0,o.jsx)("img",(0,s.Z)({src:t,alt:a,className:i[u],width:l,height:d},x)):(0,o.jsx)("img",{src:r.Z,alt:"Avatar",className:i[u]})};u.defaultProps={alt:"avatar",avatarClass:"",width:72,height:72};var l=u},1412:function(e,t,a){var s=a(184);t.Z=function(e){var t=e.children;return(0,s.jsx)("div",{className:"container",children:t})}},1023:function(e,t,a){a.d(t,{Z:function(){return s.Z}});var s=a(1412)},990:function(e,t,a){a.d(t,{Z:function(){return k}});var s=a(885),n=a(2791),r=a(9434),i=a(8644),o=a(188),c=a(4737),u=a(2951),l=a(3214),d=a(1632),x=a(9806),g="MessageWindow_messageWindow__uRdd8",_="MessageWindow_dismissButton__SLD4U",f="MessageWindow_boo__YcpDh",h="MessageWindow_face__YrZvM",m="MessageWindow_shadow__dHQj9",v="MessageWindow_confirmButtons__sF71C",b="MessageWindow_ButtonsBlock__+USC0",p="MessageWindow_btnYes__-yYz3",j="MessageWindow_btnNo__lIEXL",D=a(184);function k(e){var t=e.text,a=e.onDismiss,k=e.confirmButtons,N=e.onConfirm,C=(0,r.I0)(),w=(0,n.useState)(!0),Z=(0,s.Z)(w,2),B=Z[0],M=Z[1];if((0,n.useEffect)((function(){if(M(!0),!k){var e=setTimeout((function(){M(!1),C((0,u.AT)()),C((0,i.k7)()),C((0,o.nv)()),C((0,c.Z$)())}),5e3);return function(){return clearTimeout(e)}}}),[t,C,k]),!B)return null;var y=function(e){M(!1),"function"===typeof N&&N(e)};return(0,D.jsxs)("div",{className:g,children:[!k&&(0,D.jsx)("button",{className:_,onClick:function(){M(!1),"function"===typeof a&&a(),C((0,u.AT)()),C((0,i.k7)()),C((0,o.nv)()),C((0,c.Z$)())},children:(0,D.jsx)(x.G,{icon:d.NBC,size:"lg"})}),(0,D.jsx)("div",{className:f,children:(0,D.jsx)("div",{className:h,id:"face"})}),(0,D.jsx)("div",{className:m}),k?(0,D.jsxs)("div",{className:v,children:[(0,D.jsx)(l.Z,{text:t,textClass:"textMessageBtn"}),(0,D.jsxs)("div",{className:b,children:[(0,D.jsx)("button",{className:p,onClick:function(){return y("yes")},children:"\u0422\u0430\u043a"}),(0,D.jsx)("button",{className:j,onClick:function(){return y("no")},children:"\u041d\u0456"})]})]}):(0,D.jsx)(l.Z,{text:t,textClass:"textMessage"})]})}},5399:function(e,t,a){a.d(t,{Z:function(){return r}});var s={roundButton:"RoundButton_roundButton__nMjVe",scrollButton:"RoundButton_scrollButton__WegW6",icon:"RoundButton_icon__X5lVR",iconMob:"RoundButton_iconMob__1fMf0",roundButtonMob:"RoundButton_roundButtonMob__M4hXA"},n=a(184),r=function(e){var t=e.icon,a=e.btnClass,r=e.handleClick,i=e.id,o=e.onClick,c=a||"roundButton",u="roundButtonMob"===a?"iconMob":"icon";return(0,n.jsx)("div",{className:s[c],onClick:function(e){r&&r(i),o&&o(e)},children:(0,n.jsx)(t,{className:s[u]})})}},8785:function(e,t,a){function s(e,t){var a="",s="";switch(e){case"\u0416\u0456\u043d\u043a\u0430\u043c":a="women";break;case"\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c":a="men";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438":a="children";break;case"\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f":a="beauty&health";break;default:a=e}if("\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c"===e)switch(t){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u0456\u0434\u0436\u0430\u043a\u0438 \u0456 \u043a\u043e\u0441\u0442\u044e\u043c\u0438":s="jackets & suits";break;case"\u041a\u043e\u0444\u0442\u0438 \u0442\u0430 \u0441\u0432\u0435\u0442\u0440\u0438":s="coats & tops";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0442\u0435\u043d\u0456\u0441\u043a\u0438":s="shirts & t-shirts";break;case"\u0424\u0443\u0442\u0431\u043e\u043b\u043a\u0438 \u0442\u0430 \u043c\u0430\u0439\u043a\u0438":s="t-shirts & tank tops";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothing for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothing";break;case"\u0422\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="tactical clothing";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=t}if("\u0416\u0456\u043d\u043a\u0430\u043c"===e)switch(t){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u043b\u0430\u0442\u0442\u044f":s="dresses";break;case"\u0421\u043f\u0456\u0434\u043d\u0438\u0446\u0456":s="skirts";break;case"\u041c\u0430\u0439\u043a\u0438 \u0456 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0438":s="t-shirts and t-shirts";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0431\u043b\u0443\u0437\u0438":s="shirts and blouses";break;case"Coats":s="\u0421\u0432\u0435\u0442\u0440\u0438";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0406\u043d\u0448\u0456 \u0440\u0435\u0447\u0456":s="other things";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041a\u043e\u0441\u0442\u044e\u043c\u0438":s="suits";break;case"\u041a\u043e\u043c\u0431\u0456\u043d\u0435\u0437\u043e\u043d\u0438":s="overalls";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothes for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothes";break;case"\u0414\u043b\u044f \u0432\u0430\u0433\u0456\u0442\u043d\u0438\u0445":s="for pregnant women";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=t}if("\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438"===e)switch(t){case"\u0414\u0438\u0442\u044f\u0447\u0430 \u043a\u0456\u043c\u043d\u0430\u0442\u0430":s="children's room";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u043c\u0430\u043c":s="products for mothers";break;case"\u0425\u0430\u0440\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u0456 \u0433\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f":s="food and feeding";break;case"\u0429\u043e\u0434\u0435\u043d\u043d\u0438\u0439 \u0434\u043e\u0433\u043b\u044f\u0434":s="daily care";break;case"\u041a\u043e\u043b\u044f\u0441\u043a\u0438 \u0442\u0430 \u0430\u0432\u0442\u043e\u043a\u0440\u0456\u0441\u043b\u0430":s="strollers and car seats";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0456\u0433\u0440\u0430\u0448\u043a\u0438":s="children's toys";break;case"\u0414\u0438\u0442\u044f\u0447\u0438\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":s="children's transport";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u0442\u0432\u043e\u0440\u0447\u043e\u0441\u0442\u0456":s="products for creativity";break;case"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0432\u0456\u0434\u043f\u043e\u0447\u0438\u043d\u043e\u043a":s="active recreation";break;default:s=t}if("\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f"===e)switch(t){case"\u0427\u043e\u043b\u043e\u0432\u0456\u0447\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="men's cosmetics";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="beauty accessories";break;case"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="decorative cosmetics";break;case"\u041f\u0430\u0440\u0444\u0443\u043c\u0438":s="perfume";break;case"\u041c\u0430\u043d\u0456\u043a\u044e\u0440 \u0456 \u043f\u0435\u0434\u0438\u043a\u044e\u0440":s="manicure and pedicure";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u0432\u043e\u043b\u043e\u0441\u0441\u044f":s="hair cosmetics";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u0431\u043b\u0438\u0447\u0447\u044f":s="face cosmetics";break;case"\u0422\u0456\u043b\u043e \u0456 \u0432\u0430\u043d\u043d\u0430":s="body and bath";break;case"\u0414\u043e\u0433\u043b\u044f\u0434 \u0437\u0430 \u0441\u043e\u0431\u043e\u044e":s="self-care";break;case"\u0422\u0435\u0445\u043d\u0456\u043a\u0430 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="techniques for beauty";break;case"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043d\u0430\u0431\u043e\u0440\u0438":s="gift sets";break;case"\u0414\u0435\u0437\u0456\u043d\u0444\u0456\u043a\u0443\u044e\u0447\u0438 \u0437\u0430\u0441\u043e\u0431\u0438":s="disinfectants";break;case"\u041c\u0435\u0434\u0438\u0447\u043d\u0456 \u043f\u0440\u0438\u043b\u0430\u0434\u0438":s="medical devices";break;case"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0430\u043f\u0442\u0435\u043a\u0430":s="home pharmacy";break;case"\u041e\u043f\u0442\u0438\u043a\u0430":s="optics";break;default:s=t}return{categoryName:a,subCategoryName:s}}a.d(t,{a:function(){return s}})},2225:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var s=a(885),n=a(2791),r=a(4805),i=a(1023),o=a(5861),c=a(4687),u=a.n(c),l=a(9434),d=a(4676),x=a(2205),g=a(2951),_=a(9869),f=a(4387),h=a(3214),m=a(4834),v=a(5399),b=a(990),p=a(9126),j={dialogueList:"DialogueList_dialogueList__v+adW",btnSelect:"DialogueList_btnSelect__NbDWo",wrapper:"DialogueList_wrapper__gclAw",active:"DialogueList_active__i3UCk",dialogueGroup:"DialogueList_dialogueGroup__qkiVH",dialogueCardBotoom:"DialogueList_dialogueCardBotoom__UvjJi",dialogueCard:"DialogueList_dialogueCard__bODOd",dialogueName:"DialogueList_dialogueName__-i6yR",imageCard:"DialogueList_imageCard__rEU8T",deleteBox:"DialogueList_deleteBox__6JIMP",message_title_box:"DialogueList_message_title_box__sizp5",messageBoxTitle:"DialogueList_messageBoxTitle__YodHY",messageBox:"DialogueList_messageBox__v4lN+",messageBoxText:"DialogueList_messageBoxText__AELys",numberNewMessage:"DialogueList_numberNewMessage__yXPlx"},D=a(184),k=function(e){e.selectedDialogue;var t=e.setSelectedDialogue,a=(0,l.I0)(),i=(0,n.useState)(!0),c=(0,s.Z)(i,2),k=c[0],N=c[1],C=(0,n.useState)(""),w=(0,s.Z)(C,2),Z=w[0],B=w[1],M=(0,n.useState)(null),y=(0,s.Z)(M,2),I=y[0],L=y[1],T=(0,n.useState)(!1),A=(0,s.Z)(T,2),S=A[0],W=A[1],R=(0,l.v9)(_.PR),E=(0,l.v9)(x.k6),P=(0,l.v9)(x.bX),U=(0,l.v9)(x.Ok),O=(0,r.useMediaQuery)({maxWidth:1279}),G=(0,r.useMediaQuery)({maxWidth:767}),F=function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(N(!0),a((0,g.es)(!0))):(N(!1),a((0,g.es)(!1)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){}),[R.newMessage]),(0,n.useEffect)((function(){a((0,d.lX)({statusDialogue:k}))}),[a,k]),(0,n.useEffect)((function(){U&&(B(U),a((0,d.lX)({statusDialogue:k})))}),[a,k,U]);var Y=function(e){L(e),W(!0)},q=function(e){var t=e.newMessages.filter((function(e){return e.userReceiver===R._id}));return 0===t.length?0:t.length};return(0,D.jsxs)("section",{className:j.dialogueList,children:[(0,D.jsxs)("div",{className:j.box,children:[(0,D.jsx)(h.Z,{text:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432",textClass:O?"titleTabMob":"title"}),O&&(0,D.jsx)(h.Z,{text:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433 \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",textClass:"productLabelsDialog"}),(0,D.jsxs)("div",{className:j.btnSelect,children:[(0,D.jsx)("div",{className:j.wrapper,children:(0,D.jsx)(m.Z,{text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456",type:"button",handleClick:function(){return F(!0)},btnClass:k?"exitHeaderBtnDialogue":"exitHeaderBtn"})}),(0,D.jsx)("div",{className:j.wrapper,children:(0,D.jsx)(m.Z,{text:"\u0410\u0440\u0445\u0456\u0432\u043d\u0456",type:"button",handleClick:function(){return F(!1)},btnClass:k?"exitHeaderBtn":"exitHeaderBtnDialogue"})})]}),E.length>0&&(0,D.jsx)("ul",{className:j.dialogueGroup,children:E.map((function(e){return(0,D.jsx)("li",{className:j.dialogueCardBotoom,onClick:function(){return function(e){t(e)}(e)},children:(0,D.jsxs)("div",{className:j.dialogueCard,children:[(0,D.jsxs)("div",{className:j.dialogueName,children:[(0,D.jsx)(f.Z,{avatarClass:"photoDialogue",src:e.otherUserInfo.userAvatar}),(0,D.jsx)(h.Z,{text:e.otherUserInfo.username,textClass:"after-title-bottom"})]}),!G&&(0,D.jsx)("div",{className:j.imageCard,style:{backgroundImage:"url(".concat(e.productInfo.mainPhotoUrl,")")}}),(0,D.jsxs)("div",{className:j.message_title_box,children:[(0,D.jsx)("div",{className:j.messageBoxTitle,children:(0,D.jsx)(h.Z,{text:e.productInfo.nameProduct,textClass:"after-title-message-title"})}),(0,D.jsxs)("div",{className:j.messageBox,children:[(0,D.jsx)("div",{className:j.messageBoxText,children:(0,D.jsx)(h.Z,{text:e.messageArray[e.messageArray.length-1].text,textClass:"after-title"})}),(0,D.jsx)(h.Z,{text:e.messageArray[e.messageArray.length-1].date,textClass:"productTextDate"})]})]}),(0,D.jsxs)("div",{className:j.deleteBox,children:[(0,D.jsx)("div",{className:j.numberNewMessage,children:(0,D.jsx)(h.Z,{text:q(e),textClass:"after-title-message-count"})}),(0,D.jsx)(v.Z,{btnClass:G?"roundButtonMob":"roundButton",icon:p.yvY,handleClick:Y,id:e._id})]})]})},e._id)}))}),P&&0===E.length&&(0,D.jsx)(h.Z,{text:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f...",textClass:"after-title-text-warning"}),!P&&0===E.length&&(0,D.jsx)(h.Z,{text:"\u0423 \u0432\u0430\u0441 \u043d\u0435 \u043c\u0430\u0454 \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432",textClass:"after-title-text-warning"})]}),S&&(0,D.jsx)(b.Z,{text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0456\u0430\u043b\u043e\u0433?",confirmButtons:!0,onConfirm:function(e){"yes"===e?(a((0,d.e$)({dialogueId:I})),W(!1)):"no"===e&&(L(null),W(!1))}}),Z&&(0,D.jsx)(b.Z,{text:"".concat(Z),onDismiss:function(){B("")}})]})},N=a(7689),C=a(8785),w=a(9803),Z="DialogueDetail_dialogueDetail__2NKC-",B="DialogueDetail_box__NJYRM",M="DialogueDetail_groupProductDialogue__u43IF",y="DialogueDetail_dialogueBox__MJ4xp",I="DialogueDetail_productBox__i4MYW",L="DialogueDetail_imageCard__sV9nc",T="DialogueDetail_productInfo__WJar2",A="DialogueDetail_messageBoxTitle__ot1qY",S="DialogueDetail_productNavigate__sLv+u",W=function(e){var t=e.selectedDialogue,a=(0,N.s0)(),s=(0,r.useMediaQuery)({minWidth:1280}),n=(0,r.useMediaQuery)({maxWidth:767}),i=null,o=null,c=null,u=null,l=null;t&&(i=t.productId,o=t.productOwner,c=t._id,u=t.productInfo.section,l=t.productInfo.category);return(0,D.jsx)("section",{className:Z,children:(0,D.jsxs)("div",{className:B,style:{justifyContent:c?"initial":"center"},children:[!c&&s&&(0,D.jsx)(h.Z,{text:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433 \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",textClass:s?"productLabels":"productLabelsNone"}),c&&(0,D.jsxs)("div",{className:M,children:[(0,D.jsxs)("div",{className:I,children:[!n&&(0,D.jsx)("div",{className:L,style:{backgroundImage:"url(".concat(t.productInfo.mainPhotoUrl,")")}}),(0,D.jsxs)("div",{className:T,children:[(0,D.jsx)("div",{className:A,children:(0,D.jsx)(h.Z,{text:t.productInfo.nameProduct,textClass:"after-title-message-title"})}),(0,D.jsx)("div",{children:(0,D.jsx)(h.Z,{text:"\u0446\u0456\u043d\u0430: ".concat(t.productInfo.price," \u0433\u0440\u043d."),textClass:"after-title"})})]}),(0,D.jsx)("div",{className:S,children:(0,D.jsx)(m.Z,{text:"\u0414\u043e \u0442\u043e\u0432\u0430\u0440\u0443",btnClass:"btnLight",handleClick:function(){var e=(0,C.a)(u,l),t=e.categoryName,s=e.subCategoryName,n="/product/".concat(t,"/").concat(s,"/").concat(i);a(n)}})})]}),(0,D.jsx)("div",{className:y,children:(0,D.jsx)(w.Z,{productInfo:{_id:i,owner:o,userDialogue:c}})})]})]})})},R=a(3853),E={section:"Message_section__OmvT6",dialogueGroup:"Message_dialogueGroup__I6vbP",containerDialogueDetailDesktop:"Message_containerDialogueDetailDesktop__GEF1I",containerDialogueDetailTabMob:"Message_containerDialogueDetailTabMob__vVWZ-",dismissButton:"Message_dismissButton__Ubvw9",buttonBoxPosition:"Message_buttonBoxPosition__dem4n",closeButton:"Message_closeButton__b-6Ej"},P=function(){var e=(0,n.useState)(null),t=(0,s.Z)(e,2),a=t[0],o=t[1],c=(0,r.useMediaQuery)({minWidth:1280});return(0,D.jsx)("section",{className:E.section,children:(0,D.jsx)(i.Z,{children:(0,D.jsxs)("div",{className:E.dialogueGroup,children:[(0,D.jsx)(k,{selectedDialogue:a,setSelectedDialogue:o}),c&&(0,D.jsx)("div",{className:E.containerDialogueDetailDesktop,children:(0,D.jsx)(W,{selectedDialogue:a,setSelectedDialogue:o})}),!c&&null!==a&&(0,D.jsx)("div",{className:E.containerDialogueDetailTabMob,children:(0,D.jsxs)(i.Z,{children:[(0,D.jsx)("div",{className:E.buttonBoxPosition,children:(0,D.jsx)("div",{className:E.buttonBox,children:(0,D.jsx)("button",{className:E.closeButton,onClick:function(){o(null)},children:(0,D.jsx)(R.q5L,{})})})}),(0,D.jsx)(W,{selectedDialogue:a,setSelectedDialogue:o})]})})]})})})},U=function(){return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(P,{})})}}}]);
//# sourceMappingURL=225.731e4bf8.chunk.js.map