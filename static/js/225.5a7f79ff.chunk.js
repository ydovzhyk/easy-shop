"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[225],{7059:function(e,t,a){a(2791);t.Z=a.p+"static/media/avatar.27ffa8cc08b4da221c5a83ff4cbb218c.svg"},9803:function(e,t,a){a.d(t,{Z:function(){return p}});var s=a(5861),n=a(885),r=a(4687),i=a.n(r),o=a(2791),c=a(9434),u=a(7689),l=a(4676),d=a(9869),x=a(2205),g=a(2951),_=a(7692),f=a(3214),h=a(4387),m=a(9833),v={dialogueContainer:"Dialogue_dialogueContainer__FuS7j",additionalOpts:"Dialogue_additionalOpts__o-iwF",avatar:"Dialogue_avatar__Snahc",textInputArea:"Dialogue_textInputArea__7QqLK",dialogueGroup:"Dialogue_dialogueGroup__CccDt",dialogueBox:"Dialogue_dialogueBox__Zqye0",dialogueMessage:"Dialogue_dialogueMessage__tL3Cl",dialogueMessageRight:"Dialogue_dialogueMessageRight__KBBVw",textDate:"Dialogue_textDate__qAQ-I",textarea:"Dialogue_textarea__F4Goc",questionButton:"Dialogue_questionButton__et0nJ"},b=a(184),p=function(e){var t=e.productInfo,a=(0,c.I0)(),r=(0,u.s0)(),p=t._id,j=t.owner,D=t.userDialogue,k=(0,c.v9)(d.Dm),N=(0,c.v9)(d.PR),C=(0,c.v9)(d.t2),w=(0,c.v9)(x.kr),B=(0,c.v9)(x.J$),Z=(0,o.useState)(""),M=(0,n.Z)(Z,2),y=M[0],I=M[1],L=(0,o.useState)(!1),A=(0,n.Z)(L,2),T=A[0],R=A[1],W=(0,o.useState)(null),S=(0,n.Z)(W,2),O=S[0],P=S[1],E=(0,o.useRef)(!1),U=(0,c.v9)(x.iH),G=[],q=[],F=!1;(0,o.useEffect)((function(){p&&P(p)}),[p]),(0,o.useEffect)((function(){if(w.length>0&&!B){var e=w.filter((function(e){return e.newMessages.some((function(e){return e.userReceiver===N._id}))})),t=U._id?U._id:D;e.some((function(e){return e._id===t}))&&(a((0,g.vz)(!0)),a((0,g.qy)(t)))}}),[a,w,N._id,U._id,D,B]),(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.current=!1,R(!1),a((0,g.ve)()),a((0,g.vz)(!1)),O&&C&&!D){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a((0,l.UA)({productId:O}));case 8:R(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,O,D,C,B]),(0,o.useEffect)((function(){var e=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.current=!1,R(!1),a((0,g.ve)()),a((0,g.vz)(!1)),D){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a((0,l.UA)({dialogueId:D}));case 8:R(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,D,B]),(0,o.useEffect)((function(){if(0!==U.length&&!E.current&&0!==U.newMessages.length){var e=U._id,t=U.newMessages,n=N._id,r=t.filter((function(e){return e.userReceiver===n})),o=function(){var t=(0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!E.current){t.next=2;break}return t.abrupt("return");case 2:return E.current=!0,t.next=5,a((0,l.k1)({dialogueId:e,arrayNewMessage:r}));case 5:return t.next=7,a((0,g.fm)(e));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=setTimeout(o,2e4);return function(){clearTimeout(c),o()}}}),[a,U,N._id]);0===U.length?(G=[],q=[]):(G=U.messageArray.slice().reverse(),q=U.newMessages,function(e){F="64cccb7e5b8c2eb706fe655d"===e[0].textOwner}(G));var Y=function(e){var t="",a="",s=U.userAvatar,n=U.productOwnerAvatar;return N.userAvatar===s?(t=s,a=n):(t=n,a=s),e===N._id?t:a},H=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,a((0,l.Jc)({text:y,productId:O,productOwner:j,dialogueId:U._id}));case 3:I(""),e.next=8;break;case 6:return r("/login"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){if(!q||0===q.length)return!1;var a=N._id;return 0!==q.filter((function(s){return s.userReceiver===a&&s.message===e&&s.date===t})).length};return(0,b.jsx)(b.Fragment,{children:T&&(0,b.jsxs)("div",{className:v.dialogueContainer,children:[!F&&(0,b.jsxs)("div",{className:v.additionalOpts,children:[(0,b.jsx)(_.avz,{className:v.favoriteIcon}),(0,b.jsx)(f.Z,{text:"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0430\u043d\u043d\u044f",textClass:"productText"})]}),0===G.length&&(0,b.jsx)("div",{className:v.avatar,children:(0,b.jsx)(h.Z,{avatarClass:"photoDialogueLeft",src:k})}),G.length>0&&(0,b.jsx)("ul",{className:v.dialogueGroup,children:G.map((function(e,t){return(0,b.jsx)("li",{children:(0,b.jsx)("div",{className:v.dialogueBox,children:e.textOwner===N._id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Z,{avatarClass:"photoDialogueLeft",src:Y(e.textOwner)}),(0,b.jsxs)("div",{className:v.dialogueMessage,children:[(0,b.jsx)(f.Z,{text:e.text,textClass:J(e.text,e.date)?"productTextDialogueNewMessage":"productTextDialogue"}),(0,b.jsx)("div",{className:v.textDate,children:(0,b.jsx)(f.Z,{text:e.date,textClass:"productTextDate"})})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:v.dialogueMessageRight,children:[(0,b.jsx)(f.Z,{text:e.text,textClass:J(e.text,e.date)?"productTextDialogueNewMessage":"productTextDialogue"}),(0,b.jsx)("div",{className:v.textDate,children:(0,b.jsx)(f.Z,{text:e.date,textClass:"productTextDate"})})]}),(0,b.jsx)(h.Z,{avatarClass:"photoDialogueRight",src:Y(e.textOwner)})]})})},t)}))}),!F&&(0,b.jsxs)("div",{className:v.textInputArea,children:[(0,b.jsx)("textarea",{className:v.textarea,name:"myQuestion",value:y,onChange:function(e){I(e.target.value)},rows:5,cols:40}),(0,b.jsxs)("div",{className:v.questionButton,children:[(0,b.jsx)(m.Z,{text:C?"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044f",btnClass:"btnLight",handleClick:function(){return H(C)}}),!C&&(0,b.jsx)(f.Z,{text:"*\u0429\u043e\u0431 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044e, \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0430\u0431\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044f",textClass:"messageTextBtn"})]})]})]})})}},4387:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(1413),n=a(4925),r=a(7059),i={photoAvatar:"Avatar_photoAvatar__y+tns",photo:"Avatar_photo__VHgBi",photoDialogue:"Avatar_photoDialogue__Aae+I",photoDialogueLeft:"Avatar_photoDialogueLeft__UOJtl",photoDialogueRight:"Avatar_photoDialogueRight__C5CPU"},o=a(184),c=["src","alt","avatarClass","width","heigth"],u=function(e){var t=e.src,a=e.alt,u=e.avatarClass,l=e.width,d=e.heigth,x=(0,n.Z)(e,c);return t?(0,o.jsx)("img",(0,s.Z)({src:t,alt:a,className:i[u],width:l,height:d},x)):(0,o.jsx)("img",{src:r.Z,alt:"Avatar",className:i[u]})};u.defaultProps={alt:"avatar",avatarClass:"",width:72,height:72};var l=u},990:function(e,t,a){a.d(t,{Z:function(){return k}});var s=a(885),n=a(2791),r=a(9434),i=a(8644),o=a(188),c=a(4737),u=a(2951),l=a(3214),d=a(1632),x=a(9806),g="MessageWindow_messageWindow__uRdd8",_="MessageWindow_dismissButton__SLD4U",f="MessageWindow_boo__YcpDh",h="MessageWindow_face__YrZvM",m="MessageWindow_shadow__dHQj9",v="MessageWindow_confirmButtons__sF71C",b="MessageWindow_ButtonsBlock__+USC0",p="MessageWindow_btnYes__-yYz3",j="MessageWindow_btnNo__lIEXL",D=a(184);function k(e){var t=e.text,a=e.onDismiss,k=e.confirmButtons,N=e.onConfirm,C=(0,r.I0)(),w=(0,n.useState)(!0),B=(0,s.Z)(w,2),Z=B[0],M=B[1];if((0,n.useEffect)((function(){if(M(!0),!k){var e=setTimeout((function(){M(!1),C((0,u.AT)()),C((0,i.k7)()),C((0,o.nv)()),C((0,c.Z$)())}),5e3);return function(){return clearTimeout(e)}}}),[t,C,k]),!Z)return null;var y=function(e){M(!1),"function"===typeof N&&N(e)};return(0,D.jsxs)("div",{className:g,children:[!k&&(0,D.jsx)("button",{className:_,onClick:function(){M(!1),"function"===typeof a&&a(),C((0,u.AT)()),C((0,i.k7)()),C((0,o.nv)()),C((0,c.Z$)())},children:(0,D.jsx)(x.G,{icon:d.NBC,size:"lg"})}),(0,D.jsx)("div",{className:f,children:(0,D.jsx)("div",{className:h,id:"face"})}),(0,D.jsx)("div",{className:m}),k?(0,D.jsxs)("div",{className:v,children:[(0,D.jsx)(l.Z,{text:t,textClass:"textMessageBtn"}),(0,D.jsxs)("div",{className:b,children:[(0,D.jsx)("button",{className:p,onClick:function(){return y("yes")},children:"\u0422\u0430\u043a"}),(0,D.jsx)("button",{className:j,onClick:function(){return y("no")},children:"\u041d\u0456"})]})]}):(0,D.jsx)(l.Z,{text:t,textClass:"textMessage"})]})}},5399:function(e,t,a){a.d(t,{Z:function(){return r}});var s={roundButton:"RoundButton_roundButton__nMjVe",scrollButton:"RoundButton_scrollButton__WegW6",icon:"RoundButton_icon__X5lVR",iconMob:"RoundButton_iconMob__1fMf0",roundButtonMob:"RoundButton_roundButtonMob__M4hXA"},n=a(184),r=function(e){var t=e.icon,a=e.btnClass,r=e.handleClick,i=e.id,o=e.onClick,c=a||"roundButton",u="roundButtonMob"===a?"iconMob":"icon";return(0,n.jsx)("div",{className:s[c],onClick:function(e){r&&r(i),o&&o(e)},children:(0,n.jsx)(t,{className:s[u]})})}},8785:function(e,t,a){function s(e,t){var a="",s="";switch(e){case"\u0416\u0456\u043d\u043a\u0430\u043c":a="women";break;case"\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c":a="men";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438":a="children";break;case"\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f":a="beauty&health";break;default:a=e}if("\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c"===e)switch(t){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u0456\u0434\u0436\u0430\u043a\u0438 \u0456 \u043a\u043e\u0441\u0442\u044e\u043c\u0438":s="jackets & suits";break;case"\u041a\u043e\u0444\u0442\u0438 \u0442\u0430 \u0441\u0432\u0435\u0442\u0440\u0438":s="coats & tops";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0442\u0435\u043d\u0456\u0441\u043a\u0438":s="shirts & t-shirts";break;case"\u0424\u0443\u0442\u0431\u043e\u043b\u043a\u0438 \u0442\u0430 \u043c\u0430\u0439\u043a\u0438":s="t-shirts & tank tops";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothing for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothing";break;case"\u0422\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="tactical clothing";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=t}if("\u0416\u0456\u043d\u043a\u0430\u043c"===e)switch(t){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u043b\u0430\u0442\u0442\u044f":s="dresses";break;case"\u0421\u043f\u0456\u0434\u043d\u0438\u0446\u0456":s="skirts";break;case"\u041c\u0430\u0439\u043a\u0438 \u0456 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0438":s="t-shirts and t-shirts";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0431\u043b\u0443\u0437\u0438":s="shirts and blouses";break;case"Coats":s="\u0421\u0432\u0435\u0442\u0440\u0438";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0406\u043d\u0448\u0456 \u0440\u0435\u0447\u0456":s="other things";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041a\u043e\u0441\u0442\u044e\u043c\u0438":s="suits";break;case"\u041a\u043e\u043c\u0431\u0456\u043d\u0435\u0437\u043e\u043d\u0438":s="overalls";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothes for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothes";break;case"\u0414\u043b\u044f \u0432\u0430\u0433\u0456\u0442\u043d\u0438\u0445":s="for pregnant women";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=t}if("\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438"===e)switch(t){case"\u0414\u0438\u0442\u044f\u0447\u0430 \u043a\u0456\u043c\u043d\u0430\u0442\u0430":s="children's room";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u043c\u0430\u043c":s="products for mothers";break;case"\u0425\u0430\u0440\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u0456 \u0433\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f":s="food and feeding";break;case"\u0429\u043e\u0434\u0435\u043d\u043d\u0438\u0439 \u0434\u043e\u0433\u043b\u044f\u0434":s="daily care";break;case"\u041a\u043e\u043b\u044f\u0441\u043a\u0438 \u0442\u0430 \u0430\u0432\u0442\u043e\u043a\u0440\u0456\u0441\u043b\u0430":s="strollers and car seats";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0456\u0433\u0440\u0430\u0448\u043a\u0438":s="children's toys";break;case"\u0414\u0438\u0442\u044f\u0447\u0438\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":s="children's transport";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u0442\u0432\u043e\u0440\u0447\u043e\u0441\u0442\u0456":s="products for creativity";break;case"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0432\u0456\u0434\u043f\u043e\u0447\u0438\u043d\u043e\u043a":s="active recreation";break;default:s=t}if("\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f"===e)switch(t){case"\u0427\u043e\u043b\u043e\u0432\u0456\u0447\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="men's cosmetics";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="beauty accessories";break;case"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="decorative cosmetics";break;case"\u041f\u0430\u0440\u0444\u0443\u043c\u0438":s="perfume";break;case"\u041c\u0430\u043d\u0456\u043a\u044e\u0440 \u0456 \u043f\u0435\u0434\u0438\u043a\u044e\u0440":s="manicure and pedicure";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u0432\u043e\u043b\u043e\u0441\u0441\u044f":s="hair cosmetics";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u0431\u043b\u0438\u0447\u0447\u044f":s="face cosmetics";break;case"\u0422\u0456\u043b\u043e \u0456 \u0432\u0430\u043d\u043d\u0430":s="body and bath";break;case"\u0414\u043e\u0433\u043b\u044f\u0434 \u0437\u0430 \u0441\u043e\u0431\u043e\u044e":s="self-care";break;case"\u0422\u0435\u0445\u043d\u0456\u043a\u0430 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="techniques for beauty";break;case"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043d\u0430\u0431\u043e\u0440\u0438":s="gift sets";break;case"\u0414\u0435\u0437\u0456\u043d\u0444\u0456\u043a\u0443\u044e\u0447\u0438 \u0437\u0430\u0441\u043e\u0431\u0438":s="disinfectants";break;case"\u041c\u0435\u0434\u0438\u0447\u043d\u0456 \u043f\u0440\u0438\u043b\u0430\u0434\u0438":s="medical devices";break;case"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0430\u043f\u0442\u0435\u043a\u0430":s="home pharmacy";break;case"\u041e\u043f\u0442\u0438\u043a\u0430":s="optics";break;default:s=t}return{categoryName:a,subCategoryName:s}}a.d(t,{a:function(){return s}})},2225:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var s=a(885),n=a(2791),r=a(4805),i=a(1023),o=a(5861),c=a(4687),u=a.n(c),l=a(9434),d=a(4676),x=a(2205),g=a(2951),_=a(9869),f=a(4387),h=a(3214),m=a(4834),v=a(5399),b=a(990),p=a(9126),j={dialogueList:"DialogueList_dialogueList__v+adW",btnSelect:"DialogueList_btnSelect__NbDWo",wrapper:"DialogueList_wrapper__gclAw",active:"DialogueList_active__i3UCk",dialogueGroup:"DialogueList_dialogueGroup__qkiVH",dialogueCardBotoom:"DialogueList_dialogueCardBotoom__UvjJi",dialogueCard:"DialogueList_dialogueCard__bODOd",dialogueName:"DialogueList_dialogueName__-i6yR",imageCard:"DialogueList_imageCard__rEU8T",deleteBox:"DialogueList_deleteBox__6JIMP",message_title_box:"DialogueList_message_title_box__sizp5",messageBoxTitle:"DialogueList_messageBoxTitle__YodHY",messageBox:"DialogueList_messageBox__v4lN+",messageBoxText:"DialogueList_messageBoxText__AELys",numberNewMessage:"DialogueList_numberNewMessage__yXPlx"},D=a(184),k=function(e){e.selectedDialogue;var t=e.setSelectedDialogue,a=(0,l.I0)(),i=(0,n.useState)(!0),c=(0,s.Z)(i,2),k=c[0],N=c[1],C=(0,n.useState)(""),w=(0,s.Z)(C,2),B=w[0],Z=w[1],M=(0,n.useState)(null),y=(0,s.Z)(M,2),I=y[0],L=y[1],A=(0,n.useState)(!1),T=(0,s.Z)(A,2),R=T[0],W=T[1],S=(0,l.v9)(_.PR),O=(0,l.v9)(x.k6),P=(0,l.v9)(x.bX),E=(0,l.v9)(x.Ok),U=(0,r.useMediaQuery)({maxWidth:1279}),G=(0,r.useMediaQuery)({maxWidth:767}),q=function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(N(!0),a((0,g.es)(!0))):(N(!1),a((0,g.es)(!1)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){}),[S.newMessage]),(0,n.useEffect)((function(){a((0,d.lX)({statusDialogue:k}))}),[a,k]),(0,n.useEffect)((function(){E&&(Z(E),a((0,d.lX)({statusDialogue:k})))}),[a,k,E]);var F=function(e){L(e),W(!0)},Y=function(e){var t=e.newMessages.filter((function(e){return e.userReceiver===S._id}));return 0===t.length?0:t.length};return(0,D.jsxs)("section",{className:j.dialogueList,children:[(0,D.jsxs)("div",{className:j.box,children:[(0,D.jsx)(h.Z,{text:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432",textClass:U?"titleTabMob":"title"}),U&&(0,D.jsx)(h.Z,{text:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433 \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",textClass:"productLabelsDialog"}),(0,D.jsxs)("div",{className:j.btnSelect,children:[(0,D.jsx)("div",{className:j.wrapper,children:(0,D.jsx)(m.Z,{text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456",type:"button",handleClick:function(){return q(!0)},btnClass:k?"exitHeaderBtnDialogue":"exitHeaderBtn"})}),(0,D.jsx)("div",{className:j.wrapper,children:(0,D.jsx)(m.Z,{text:"\u0410\u0440\u0445\u0456\u0432\u043d\u0456",type:"button",handleClick:function(){return q(!1)},btnClass:k?"exitHeaderBtn":"exitHeaderBtnDialogue"})})]}),O.length>0&&(0,D.jsx)("ul",{className:j.dialogueGroup,children:O.map((function(e){return(0,D.jsx)("li",{className:j.dialogueCardBotoom,onClick:function(){return function(e){t(e)}(e)},children:(0,D.jsxs)("div",{className:j.dialogueCard,children:[(0,D.jsxs)("div",{className:j.dialogueName,children:[(0,D.jsx)(f.Z,{avatarClass:"photoDialogue",src:e.otherUserInfo.userAvatar}),(0,D.jsx)(h.Z,{text:e.otherUserInfo.username,textClass:"after-title-bottom"})]}),!G&&(0,D.jsx)("div",{className:j.imageCard,style:{backgroundImage:"url(".concat(e.productInfo.mainPhotoUrl,")")}}),(0,D.jsxs)("div",{className:j.message_title_box,children:[(0,D.jsx)("div",{className:j.messageBoxTitle,children:(0,D.jsx)(h.Z,{text:e.productInfo.nameProduct,textClass:"after-title-message-title"})}),(0,D.jsxs)("div",{className:j.messageBox,children:[(0,D.jsx)("div",{className:j.messageBoxText,children:(0,D.jsx)(h.Z,{text:e.messageArray[e.messageArray.length-1].text,textClass:"after-title"})}),(0,D.jsx)(h.Z,{text:e.messageArray[e.messageArray.length-1].date,textClass:"productTextDate"})]})]}),(0,D.jsxs)("div",{className:j.deleteBox,children:[(0,D.jsx)("div",{className:j.numberNewMessage,children:(0,D.jsx)(h.Z,{text:Y(e),textClass:"after-title-message-count"})}),(0,D.jsx)(v.Z,{btnClass:G?"roundButtonMob":"roundButton",icon:p.yvY,handleClick:F,id:e._id})]})]})},e._id)}))}),P&&(0,D.jsx)(h.Z,{text:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f...",textClass:"after-title-text-warning"}),!P&&0===O.length&&(0,D.jsx)(h.Z,{text:"\u0423 \u0432\u0430\u0441 \u043d\u0435 \u043c\u0430\u0454 \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432",textClass:"after-title-text-warning"})]}),R&&(0,D.jsx)(b.Z,{text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0456\u0430\u043b\u043e\u0433?",confirmButtons:!0,onConfirm:function(e){"yes"===e?(a((0,d.e$)({dialogueId:I})),W(!1)):"no"===e&&(L(null),W(!1))}}),B&&(0,D.jsx)(b.Z,{text:"".concat(B),onDismiss:function(){Z("")}})]})},N=a(7689),C=a(8785),w=a(9803),B="DialogueDetail_dialogueDetail__2NKC-",Z="DialogueDetail_box__NJYRM",M="DialogueDetail_groupProductDialogue__u43IF",y="DialogueDetail_dialogueBox__MJ4xp",I="DialogueDetail_productBox__i4MYW",L="DialogueDetail_imageCard__sV9nc",A="DialogueDetail_productInfo__WJar2",T="DialogueDetail_messageBoxTitle__ot1qY",R="DialogueDetail_productNavigate__sLv+u",W=function(e){var t=e.selectedDialogue,a=(0,N.s0)(),s=(0,r.useMediaQuery)({minWidth:1280}),n=(0,r.useMediaQuery)({maxWidth:767}),i=null,o=null,c=null,u=null,l=null;t&&(i=t.productId,o=t.productOwner,c=t._id,u=t.productInfo.section,l=t.productInfo.category);return(0,D.jsx)("section",{className:B,children:(0,D.jsxs)("div",{className:Z,style:{justifyContent:c?"initial":"center"},children:[!c&&s&&(0,D.jsx)(h.Z,{text:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433 \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",textClass:s?"productLabels":"productLabelsNone"}),c&&(0,D.jsxs)("div",{className:M,children:[(0,D.jsxs)("div",{className:I,children:[!n&&(0,D.jsx)("div",{className:L,style:{backgroundImage:"url(".concat(t.productInfo.mainPhotoUrl,")")}}),(0,D.jsxs)("div",{className:A,children:[(0,D.jsx)("div",{className:T,children:(0,D.jsx)(h.Z,{text:t.productInfo.nameProduct,textClass:"after-title-message-title"})}),(0,D.jsx)("div",{children:(0,D.jsx)(h.Z,{text:"\u0446\u0456\u043d\u0430: ".concat(t.productInfo.price," \u0433\u0440\u043d."),textClass:"after-title"})})]}),(0,D.jsx)("div",{className:R,children:(0,D.jsx)(m.Z,{text:"\u0414\u043e \u0442\u043e\u0432\u0430\u0440\u0443",btnClass:"btnLight",handleClick:function(){var e=(0,C.a)(u,l),t=e.categoryName,s=e.subCategoryName,n="/products/".concat(t,"/").concat(s,"/").concat(i);a(n)}})})]}),(0,D.jsx)("div",{className:y,children:(0,D.jsx)(w.Z,{productInfo:{_id:i,owner:o,userDialogue:c}})})]})]})})},S=a(3853),O={section:"Message_section__OmvT6",dialogueGroup:"Message_dialogueGroup__I6vbP",containerDialogueDetailDesktop:"Message_containerDialogueDetailDesktop__GEF1I",containerDialogueDetailTabMob:"Message_containerDialogueDetailTabMob__vVWZ-",dismissButton:"Message_dismissButton__Ubvw9",buttonBoxPosition:"Message_buttonBoxPosition__dem4n",closeButton:"Message_closeButton__b-6Ej"},P=function(){var e=(0,n.useState)(null),t=(0,s.Z)(e,2),a=t[0],o=t[1],c=(0,r.useMediaQuery)({minWidth:1280});return(0,D.jsx)("section",{className:O.section,children:(0,D.jsx)(i.Z,{children:(0,D.jsxs)("div",{className:O.dialogueGroup,children:[(0,D.jsx)(k,{selectedDialogue:a,setSelectedDialogue:o}),c&&(0,D.jsx)("div",{className:O.containerDialogueDetailDesktop,children:(0,D.jsx)(W,{selectedDialogue:a,setSelectedDialogue:o})}),!c&&null!==a&&(0,D.jsx)("div",{className:O.containerDialogueDetailTabMob,children:(0,D.jsxs)(i.Z,{children:[(0,D.jsx)("div",{className:O.buttonBoxPosition,children:(0,D.jsx)("div",{className:O.buttonBox,children:(0,D.jsx)("button",{className:O.closeButton,onClick:function(){o(null)},children:(0,D.jsx)(S.q5L,{})})})}),(0,D.jsx)(W,{selectedDialogue:a,setSelectedDialogue:o})]})})]})})})},E=function(){return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(P,{})})}}}]);
//# sourceMappingURL=225.5a7f79ff.chunk.js.map