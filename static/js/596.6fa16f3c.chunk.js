"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[596],{5399:function(e,r,t){t.d(r,{Z:function(){return n}});var a={roundButton:"RoundButton_roundButton__nMjVe",scrollButton:"RoundButton_scrollButton__WegW6",icon:"RoundButton_icon__X5lVR"},s=t(184),n=function(e){var r=e.icon,t=e.btnClass,n=void 0===t?"roundButton":t,c=e.handleClick,i=e.id,o=e.onClick;return(0,s.jsx)("div",{className:a[n],onClick:function(e){c&&c(i),o&&o(e)},children:(0,s.jsx)(r,{className:a.icon})})}},3303:function(e,r,t){var a=t(2791),s=t(9434),n=t(5557);r.Z=function(){var e=(0,s.I0)();return(0,a.useEffect)((function(){var r=JSON.parse(localStorage.getItem("easy-shop.authData"));if(r&&r.accessToken){var t={accessToken:r.accessToken,refreshToken:r.refreshToken,sid:r.sid};e((0,n.Nq)(t))}}),[e]),null}},8785:function(e,r,t){function a(e,r){var t="",a="";switch(e){case"\u0416\u0456\u043d\u043a\u0430\u043c":t="women";break;case"\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c":t="men";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438":t="children";break;case"\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f":t="beauty&health";break;default:t=e}if("\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c"===e)switch(r){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":a="outerwear";break;case"\u041f\u0456\u0434\u0436\u0430\u043a\u0438 \u0456 \u043a\u043e\u0441\u0442\u044e\u043c\u0438":a="jackets & suits";break;case"\u041a\u043e\u0444\u0442\u0438 \u0442\u0430 \u0441\u0432\u0435\u0442\u0440\u0438":a="coats & tops";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0442\u0435\u043d\u0456\u0441\u043a\u0438":a="shirts & t-shirts";break;case"\u0424\u0443\u0442\u0431\u043e\u043b\u043a\u0438 \u0442\u0430 \u043c\u0430\u0439\u043a\u0438":a="t-shirts & tank tops";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":a="underwear";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":a="shoes";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":a="accessories";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":a="sportswear";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":a="clothing for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":a="special clothing";break;case"\u0422\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":a="tactical clothing";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":a="pants and shorts";break;default:a=r}if("\u0416\u0456\u043d\u043a\u0430\u043c"===e)switch(r){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":a="outerwear";break;case"\u041f\u043b\u0430\u0442\u0442\u044f":a="dresses";break;case"\u0421\u043f\u0456\u0434\u043d\u0438\u0446\u0456":a="skirts";break;case"\u041c\u0430\u0439\u043a\u0438 \u0456 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0438":a="t-shirts and t-shirts";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0431\u043b\u0443\u0437\u0438":a="shirts and blouses";break;case"Coats":a="\u0421\u0432\u0435\u0442\u0440\u0438";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":a="underwear";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":a="accessories";break;case"\u0406\u043d\u0448\u0456 \u0440\u0435\u0447\u0456":a="other things";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":a="sportswear";break;case"\u041a\u043e\u0441\u0442\u044e\u043c\u0438":a="suits";break;case"\u041a\u043e\u043c\u0431\u0456\u043d\u0435\u0437\u043e\u043d\u0438":a="overalls";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":a="clothes for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":a="special clothes";break;case"\u0414\u043b\u044f \u0432\u0430\u0433\u0456\u0442\u043d\u0438\u0445":a="for pregnant women";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":a="shoes";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":a="pants and shorts";break;default:a=r}if("\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438"===e)switch(r){case"\u0414\u0438\u0442\u044f\u0447\u0430 \u043a\u0456\u043c\u043d\u0430\u0442\u0430":a="children's room";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u043c\u0430\u043c":a="products for mothers";break;case"\u0425\u0430\u0440\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u0456 \u0433\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f":a="food and feeding";break;case"\u0429\u043e\u0434\u0435\u043d\u043d\u0438\u0439 \u0434\u043e\u0433\u043b\u044f\u0434":a="daily care";break;case"\u041a\u043e\u043b\u044f\u0441\u043a\u0438 \u0442\u0430 \u0430\u0432\u0442\u043e\u043a\u0440\u0456\u0441\u043b\u0430":a="strollers and car seats";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0456\u0433\u0440\u0430\u0448\u043a\u0438":a="children's toys";break;case"\u0414\u0438\u0442\u044f\u0447\u0438\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":a="children's transport";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u0442\u0432\u043e\u0440\u0447\u043e\u0441\u0442\u0456":a="products for creativity";break;case"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0432\u0456\u0434\u043f\u043e\u0447\u0438\u043d\u043e\u043a":a="active recreation";break;default:a=r}if("\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f"===e)switch(r){case"\u0427\u043e\u043b\u043e\u0432\u0456\u0447\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":a="men's cosmetics";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":a="beauty accessories";break;case"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":a="decorative cosmetics";break;case"\u041f\u0430\u0440\u0444\u0443\u043c\u0438":a="perfume";break;case"\u041c\u0430\u043d\u0456\u043a\u044e\u0440 \u0456 \u043f\u0435\u0434\u0438\u043a\u044e\u0440":a="manicure and pedicure";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u0432\u043e\u043b\u043e\u0441\u0441\u044f":a="hair cosmetics";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u0431\u043b\u0438\u0447\u0447\u044f":a="face cosmetics";break;case"\u0422\u0456\u043b\u043e \u0456 \u0432\u0430\u043d\u043d\u0430":a="body and bath";break;case"\u0414\u043e\u0433\u043b\u044f\u0434 \u0437\u0430 \u0441\u043e\u0431\u043e\u044e":a="self-care";break;case"\u0422\u0435\u0445\u043d\u0456\u043a\u0430 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":a="techniques for beauty";break;case"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043d\u0430\u0431\u043e\u0440\u0438":a="gift sets";break;case"\u0414\u0435\u0437\u0456\u043d\u0444\u0456\u043a\u0443\u044e\u0447\u0438 \u0437\u0430\u0441\u043e\u0431\u0438":a="disinfectants";break;case"\u041c\u0435\u0434\u0438\u0447\u043d\u0456 \u043f\u0440\u0438\u043b\u0430\u0434\u0438":a="medical devices";break;case"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0430\u043f\u0442\u0435\u043a\u0430":a="home pharmacy";break;case"\u041e\u043f\u0442\u0438\u043a\u0430":a="optics";break;default:a=r}return{categoryName:t,subCategoryName:a}}t.d(r,{a:function(){return a}})},8596:function(e,r,t){t.r(r),t.d(r,{default:function(){return R}});var a=t(2791),s=t(9434),n=t(4805),c=t(9325),i=t(9869),o=t(5602),u=t(1412),l=t(3303),d=t(3214),m=t(1413),p=t(7762),f=t(5861),h=t(885),k=t(4687),b=t.n(k),x=t(1087),_=t(7689),v=t(1134),j=t(9126),N=t(860),y=t(5557),w=t(4347),B=t(8646),z=t(5399),C=t(6382),g=t(8820),I={priceAndQuantity:"CountBlock_priceAndQuantity__S0M30",smallBox:"CountBlock_smallBox__TOm4i",buttonWrapper:"CountBlock_buttonWrapper__oMVTy",sumValue:"CountBlock_sumValue__PsIX+",quantValue:"CountBlock_quantValue__ElQu5"},Z=t(184),W=function(e){var r=e.number,t=e.price,a=e.onMinus,s=e.onPlus,n=e.id;return(0,Z.jsxs)("div",{className:I.priceAndQuantity,children:[(0,Z.jsxs)("div",{className:I.smallBox,children:[(0,Z.jsx)("div",{className:I.key,children:"\u0426\u0456\u043d\u0430"}),(0,Z.jsx)("div",{className:I.sumValue,children:"".concat(t," \u0433\u0440\u043d.")})]}),(0,Z.jsxs)("div",{className:I.smallBox,children:[(0,Z.jsx)("div",{className:I.key,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,Z.jsxs)("div",{className:I.buttonWrapper,children:[(0,Z.jsx)("button",{type:"button",onClick:function(){return a(n)},children:(0,Z.jsx)(g.ywL,{})}),(0,Z.jsx)("span",{className:I.quantValue,children:r}),(0,Z.jsx)("button",{type:"button",onClick:function(){return s(n)},children:(0,Z.jsx)(g.Lfi,{})})]})]}),(0,Z.jsxs)("div",{className:I.smallBox,children:[(0,Z.jsx)("div",{className:I.key,children:"\u0421\u0443\u043c\u0430"}),(0,Z.jsx)("div",{className:I.sumValue,children:"".concat(r*t," \u0433\u0440\u043d.")})]})]})},S="SizesWithoutSelect_wrapper__Xt5d9",A="SizesWithoutSelect_menuGroupList__sjJJa",q="SizesWithoutSelect_sizeAndCountWrapper__znW05",P="SizesWithoutSelect_size__iLKfd",F=function(e){var r=e.sizes,t=e.text,a=e.price,s=e.onDecrement,n=e.onIncrement,c=e.id;console.log("sizes:",r);var i=r?r.map((function(e){return{sizeId:e.name,value:e.value,quantity:e.quantity}})):[];return console.log("transformedSizes",i),(0,Z.jsxs)("div",{className:S,children:[(0,Z.jsx)(d.Z,{text:t,textClass:"productLabels"}),(0,Z.jsx)("ul",{className:A,children:i.map((function(e){return(0,Z.jsxs)("li",{className:q,children:[(0,Z.jsx)("div",{className:P,children:(0,Z.jsx)(d.Z,{text:e.value[0].EU?"EU: ".concat(e.value[0].EU," / UA: ").concat(e.value[1].UA," / IN: ").concat(e.value[2].IN):"".concat(e.sizeId),textClass:"after-title-bigger"})}),(0,Z.jsx)(W,{number:e.quantity,price:a,onMinus:function(){return s(c,e.sizeId)},onPlus:function(){return n(c,e.sizeId)},id:e.sizeId})]},(0,C.x0)())}))})]})},U=t(4458),V=t(990),M=t(8785),T={form:"BasketForm_form__McQNL",wareItem:"BasketForm_wareItem__BoKOF",photoAndNameAndPrice:"BasketForm_photoAndNameAndPrice__1MFhL",photoAndName:"BasketForm_photoAndName__vdqmP",thumb:"BasketForm_thumb__CAQkW",mainPhotoCard:"BasketForm_mainPhotoCard__UB-mL",descriptionWrapper:"BasketForm_descriptionWrapper__e1Er5",sizesAndButtonWrapper:"BasketForm_sizesAndButtonWrapper__zgizA",linkWrapper:"BasketForm_linkWrapper__hx6ri",btnWrapper:"BasketForm_btnWrapper__tsYH4"},L=function(e){var r=e.ownerId,t=e.ownerName,n=e.products,c=(e.isTablet,(0,s.I0)()),i=(0,_.s0)(),o=(0,a.useState)(null),u=(0,h.Z)(o,2),l=u[0],k=u[1],C=(0,a.useState)(!1),g=(0,h.Z)(C,2),I=g[0],W=g[1],S=(0,s.v9)(B.Bi),A=n.map((function(e){var r=e.size.map((function(e){return{name:e.name,quantity:e.quantity,value:e.value}})),t=r.reduce((function(e,r){return e+r.quantity}),0);return{_id:e._id,quantity:t,size:r,price:e.price,sum:e.size.length*e.price}}));console.log("preOrederedProducts:",A);var q=(0,a.useState)(A),P=(0,h.Z)(q,2),L=P[0],E=P[1];console.log("orderedProducts:",L);var O=L.sort((function(e,r){return e.sum-r.sum})).reduce((function(e,r){return e+r.sum}),0),Q=function(e){k(e),W(!0)},D=function(){var e=(0,f.Z)(b().mark((function e(r){var t,a,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,p.Z)(r),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=11;break}return s=a.value,e.next=7,console.log("product._id:",s._id,"product.size:",s.size);case 7:return e.next=9,c((0,y.nC)({productId:s._id,selectedSizes:s.size}));case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(r){return e.apply(this,arguments)}}(),R=function(e,r){E((function(t){return t.map((function(t){if(t._id===e){var a=t.size.map((function(e){if(e.name===r){var t=(0,m.Z)({},e);return t.quantity-=1,t}return e})),s=a.reduce((function(e,r){return e+r.quantity}),0),n=s*t.price;return(0,m.Z)((0,m.Z)({},t),{},{size:a,quantity:s,sum:n})}return t}))}))},J=function(e,r){E((function(t){return t.map((function(t){if(t._id===e){var a=t.size.map((function(e){if(e.name===r){var t=(0,m.Z)({},e);return t.quantity+=1,t}return e})),s=a.reduce((function(e,r){return e+r.quantity}),0),n=s*t.price;return(0,m.Z)((0,m.Z)({},t),{},{size:a,quantity:s,sum:n})}return t}))}))},X=(0,v.cI)({defaultValues:{ownerId:r||"",ownerName:t||"",products:L||[],totalSum:O||null}}).handleSubmit,G=function(){var e=(0,f.Z)(b().mark((function e(t,a){var s,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s={ownerId:r,ownerName:t.ownerName,products:L,totalSum:O},console.log("\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u043e\u0440\u043c\u0438",s),e.next=5,D(L);case 5:if(S.sellerId!==r){e.next=9;break}return console.log("order exist"),e.next=9,c((0,w.hg)(S._id));case 9:return e.next=11,c((0,w.fS)(s));case 11:n=e.sent,console.log("newOrder",n),n.payload.newOrderId&&i("/checkout");case 15:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,Z.jsxs)("form",{className:T.form,onSubmit:X(G),children:[(0,Z.jsx)(d.Z,{textClass:"title",text:"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446\u044c: ".concat(t)}),(0,Z.jsx)("ul",{className:T.oneSellerBasket,children:n.map((function(e){var r,t=e._id,a=e.nameProduct,s=e.mainPhotoUrl,n=e.brendName,c=e.price,i=e.size,o=e.section,u=e.category,l=(0,M.a)(o,u),m=Object.values(l),p=(0,h.Z)(m,2),f=p[0],k=p[1],b=(null===(r=L.find((function(e){return e._id===t})))||void 0===r?void 0:r.size)||i;return(0,Z.jsx)("li",{className:T.wareItem,children:(0,Z.jsxs)("div",{className:T.photoAndNameAndPrice,children:[(0,Z.jsxs)("div",{className:T.photoAndName,children:[(0,Z.jsx)(x.rU,{to:"/products/".concat(f,"/").concat(k,"/").concat(t),children:(0,Z.jsx)("div",{className:T.thumb,children:(0,Z.jsx)("img",{className:T.mainPhotoCard,src:s,onError:function(e){return e.target.src=U},alt:a})})}),(0,Z.jsxs)("div",{className:T.descriptionWrapper,children:[(0,Z.jsx)(d.Z,{textClass:"verifyAttention",text:n}),(0,Z.jsx)(d.Z,{textClass:"verifyAttention",text:a})]})]}),(0,Z.jsxs)("div",{className:T.sizesAndButtonWrapper,children:[(0,Z.jsx)(F,{sizes:b,text:"\u041e\u0431\u0440\u0430\u043d\u0438\u0439 \u0440\u043e\u0437\u043c\u0456\u0440:",price:c,onDecrement:R,onIncrement:J,id:t}),(0,Z.jsx)(z.Z,{icon:j.yvY,handleClick:Q,id:t})]})]})},t)}))}),(0,Z.jsxs)("div",{className:T.linkWrapper,children:[(0,Z.jsxs)(x.rU,{to:"/seller/:id",className:T.btnWrapper,children:[(0,Z.jsx)(d.Z,{textClass:"verifyAttention",text:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0456\u043d\u0448\u0456 \u0442\u043e\u0432\u0430\u0440\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044f"}),(0,Z.jsx)(z.Z,{icon:N.S3W})]}),(0,Z.jsxs)(x.rU,{to:"/checkout",className:T.btnWrapper,children:[(0,Z.jsx)(d.Z,{textClass:"verifyAttention",text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043d\u0430 \u0441\u0443\u043c\u0443 ".concat(O," \u0433\u0440\u043d.")}),(0,Z.jsx)(z.Z,{icon:N.eoy,onClick:X(G)})]})]}),I&&(0,Z.jsx)(V.Z,{text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440 \u0437 \u043a\u043e\u0448\u0438\u043a\u0430?",confirmButtons:!0,onConfirm:function(e){"yes"===e?(c((0,y.nC)({productId:l})),W(!1)):"no"===e&&(k(null),W(!1))}})]})},E="Basket_basketsSection__o54-0",O="Basket_orderList__okTma",Q="Basket_orderItem__khi0G",D=function(){var e=(0,s.I0)(),r=(0,s.v9)(c.FC),t=(0,s.v9)(i.PR),m=(0,s.v9)(c.kD),p=(0,s.v9)(c.MJ),f=(0,s.v9)(i.B8),h=(0,n.useMediaQuery)({minWidth:768}),k=p.map((function(e){var r=e.username,t=e._id,a=m.filter((function(e){return e.owner===t})).map((function(e){var r=f.flatMap((function(e){return e})).find((function(r){return r.productId===e._id})),t=r?r.selectedSizes:[];return{_id:e._id,brendName:e.brendName,nameProduct:e.nameProduct,mainPhotoUrl:e.mainPhotoUrl,price:e.price,size:t,section:e.section,category:e.category}}));return{ownerId:t,ownerName:r,products:a}}));return(0,a.useEffect)((function(){e((0,o.gU)(t._id))}),[e,t]),(0,Z.jsx)(u.Z,{children:(0,Z.jsxs)("section",{className:E,children:[""===r&&(0,Z.jsx)(l.Z,{}),(0,Z.jsx)(d.Z,{textClass:"title",text:"\u041a\u043e\u0448\u0438\u043a"}),(0,Z.jsx)("ul",{className:O,children:k.map((function(e){var r=e.ownerId,t=e.ownerName,a=e.products;return(0,Z.jsx)("li",{className:Q,children:(0,Z.jsx)(L,{ownerId:r,ownerName:t,products:a,isTablet:h})},r)}))})]})})},R=function(){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(D,{})})}}}]);
//# sourceMappingURL=596.6fa16f3c.chunk.js.map