{"version":3,"file":"static/js/537.e0c73d39.chunk.js","mappings":"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","sources":["webpack://easy-shop/./src/components/Profile/MySales/MySales.module.scss?fad3","components/Profile/MySales/MySales.jsx","webpack://easy-shop/./src/components/Shared/Pagination/Pagination.module.scss?dfd1","components/Shared/Pagination/Pagination.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ordersWrapper\":\"MySales_ordersWrapper__zezf+\",\"heading\":\"MySales_heading__5KAbv\",\"optionsList\":\"MySales_optionsList__dnuG9\",\"ordersList\":\"MySales_ordersList__s6tus\",\"orderItem\":\"MySales_orderItem__l-5wO\",\"orderInfoWrapper\":\"MySales_orderInfoWrapper__rgdFU\",\"orderInfoItem\":\"MySales_orderInfoItem__zGXXl\",\"orderSum\":\"MySales_orderSum__MPLUJ\",\"orderBottomWrapper\":\"MySales_orderBottomWrapper__P6Du2\",\"waitingPhrase\":\"MySales_waitingPhrase__o59Sm\",\"selectButton\":\"MySales_selectButton__J9TZ2\",\"active\":\"MySales_active__42EoL\",\"message\":\"MySales_message__x8quZ\"};","import { useEffect, useState } from 'react';\n// import { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {  getUserSales, updateOrderStatus } from 'redux/order/order-operations';\nimport {\n  getLoadingOrders,\n  selectUserSales,\n  selectUserSalesTotalPages,\n} from 'redux/order/order-selectors';\n// import { getLogin } from 'redux/auth/auth-selectors';\n\nimport OrderProductsList from 'components/Shared/OrderProductsList/OrderProductsList';\nimport Pagination from 'components/Shared/Pagination/Pagination';\nimport Button from 'components/Shared/Button/Button';\nimport s from './MySales.module.scss';\n\nconst MySales = () => {\n    const dispatch = useDispatch();\n    // const isLogin = useSelector(getLogin);\n    const isLoading = useSelector(getLoadingOrders);\n    const userSales = useSelector(selectUserSales);\n    const totalPages = useSelector(selectUserSalesTotalPages);\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [currentSelector, setcurrentSelector] = useState('all');\n    // console.log(currentSelector);\n\n  useEffect(() => {\n    dispatch(\n      getUserSales({\n        page: currentPage,\n        selectorName: currentSelector,\n      })\n    );\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [dispatch, currentPage, currentSelector]);\n\n\n\n  // for pagination\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleButtonClick = optionName => {\n    setcurrentSelector(optionName);\n    setCurrentPage(1);\n  };\n  \n  const handleConfirmButtonClick = (id) => {\n    console.log('handleConfirmButtonClick');\n    dispatch(updateOrderStatus({ orderId: id, confirmed: true, statusNew: false }));\n  }\n  const handleCancelButtonClick = (id) => {\n      console.log('handleCancelButtonClick');\n      dispatch(\n        updateOrderStatus({ orderId: id, confirmed: false, statusNew: false })\n      );\n  };\n \n  return (\n    <>\n      <div className={s.ordersWrapper}>\n        <div>\n          <p className={s.heading}>За статусом</p>\n          <ul className={s.optionsList}>\n            <li>\n              <button\n                className={\n                  currentSelector === 'all'\n                    ? `${s.selectButton} ${s.active}`\n                    : s.selectButton\n                }\n                onClick={() => handleButtonClick('all')}\n              >\n                Всі\n              </button>\n            </li>\n            <li>\n              <button\n                className={\n                  currentSelector === 'new'\n                    ? `${s.selectButton} ${s.active}`\n                    : s.selectButton\n                }\n                onClick={() => handleButtonClick('new')}\n              >\n                Нові\n              </button>\n            </li>\n            <li>\n              <button\n                className={\n                  currentSelector === 'confirmed'\n                    ? `${s.selectButton} ${s.active}`\n                    : s.selectButton\n                }\n                onClick={() => handleButtonClick('confirmed')}\n              >\n                Підтверджені\n              </button>\n            </li>\n            {/* <li>Виконані</li> */}\n            <li>\n              <button\n                className={\n                  currentSelector === 'canceled'\n                    ? `${s.selectButton} ${s.active}`\n                    : s.selectButton\n                }\n                onClick={() => handleButtonClick('canceled')}\n              >\n                Відхилені\n              </button>\n            </li>\n          </ul>\n        </div>\n        {userSales.length > 0 && (\n          <ul className={s.ordersList}>\n            {userSales.map(\n              ({\n                _id,\n                orderSum,\n                orderDate,\n                orderNumber,\n                products,\n                productInfo,\n                client,\n                statusNew,\n                confirmed,\n              }) => (\n                <li className={s.orderItem} key={_id}>\n                  <div className={s.orderInfoWrapper}>\n                    <div className={s.orderInfoItem}>\n                      <p>Покупець:</p>\n                      <p>\n                        {client.customerSecondName} {client.customerFirstName}\n                      </p>\n                      <p>Номер телефону: {client.customerTel}</p>\n                    </div>\n                    <div className={s.orderInfoItem}>\n                      <p>Замовлення &#8470; {orderNumber}</p>\n                      <p>{orderDate}</p>\n                    </div>\n                  </div>\n                  <OrderProductsList\n                    productsForOrder={productInfo}\n                    products={products}\n                  />\n                  <div className={s.orderBottomWrapper}>\n                    {statusNew === true ? (\n                      <>\n                        <Button\n                          type=\"button\"\n                          btnClass=\"btnLight\"\n                          text=\"Підтвердити замовлення\"\n                          handleClick={() => handleConfirmButtonClick(_id)}\n                        />\n                        <Button\n                          type=\"button\"\n                          btnClass=\"btnDark\"\n                          text=\"Скасувати замовлення\"\n                          handleClick={() => handleCancelButtonClick(_id)}\n                        />\n                      </>\n                    ) : (\n                      <p className={s.waitingPhrase}>\n                        {confirmed === true ? 'Підтверджено' : 'Скасовано'}\n                      </p>\n                    )}\n\n                    <p\n                      className={s.orderSum}\n                    >{`Сума замовлення: ${orderSum} грн.`}</p>\n                  </div>\n                </li>\n              )\n            )}\n          </ul>\n        )}\n        {!isLoading && userSales.length === 0 && (\n          <p className={s.message}>Замовлень з таким статусом у вас ще немає</p>\n        )}\n      </div>\n      {totalPages > 1 && (\n        <Pagination\n          totalPages={totalPages}\n          currentPage={currentPage}\n          onPageChange={handlePageChange}\n        />\n      )}\n    </>\n  );\n};\n\nexport default MySales;\n","// extracted by mini-css-extract-plugin\nexport default {\"paginationSection\":\"Pagination_paginationSection__1F1CP\",\"pagesSet\":\"Pagination_pagesSet__2tGzL\",\"pageBox\":\"Pagination_pageBox__Ti6uC\",\"active\":\"Pagination_active__yaPsQ\",\"btnLeft\":\"Pagination_btnLeft__Gnp4s\",\"btnRight\":\"Pagination_btnRight__O85qW\"};","import React from 'react';\n\nimport s from './Pagination.module.scss';\n\nconst Pagination = ({ totalPages, currentPage, onPageChange }) => {\n  const getPageNumbers = () => {\n    const pageNumbers = [];\n    const displayRange = 2; // Кількість сторінок, які відображаються навколо поточної сторінки\n\n    let startPage = Math.max(1, currentPage - displayRange);\n    let endPage = Math.min(totalPages, currentPage + displayRange);\n\n    if (currentPage <= displayRange) {\n      endPage = Math.min(displayRange * 2 + 1, totalPages);\n    }\n\n    if (currentPage >= totalPages - displayRange) {\n      startPage = Math.max(totalPages - displayRange * 2, 1);\n    }\n\n    for (let page = startPage; page <= endPage; page++) {\n      pageNumbers.push(page);\n    }\n\n    return pageNumbers;\n  };\n\n  return (\n    <div className={s.paginationSection}>\n      <button \n        className={`${s.btnLeft} ${s.pageBox}`}\n        onClick={() => onPageChange(currentPage - 1)}\n        disabled={currentPage === 1}\n      >\n        &lt;\n      </button>\n      <div className={s.pagesSet}>\n        {getPageNumbers().map(page => (\n          <button\n            key={page}\n            onClick={() => onPageChange(page)}\n            className={currentPage === page ? s.active : s.pageBox}\n          >\n            {page}\n          </button>\n        ))}\n      </div>\n      <button\n        className={`${s.btnRight} ${s.pageBox}`}\n        onClick={() => onPageChange(currentPage + 1)}\n        disabled={currentPage === totalPages}\n      >\n        &gt;\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n"],"names":["dispatch","useDispatch","isLoading","useSelector","getLoadingOrders","userSales","selectUserSales","totalPages","selectUserSalesTotalPages","useState","currentPage","setCurrentPage","currentSelector","setcurrentSelector","useEffect","getUserSales","page","selectorName","window","scrollTo","top","behavior","handleButtonClick","optionName","className","s","onClick","length","map","_id","orderSum","orderDate","orderNumber","products","productInfo","client","statusNew","confirmed","customerSecondName","customerFirstName","customerTel","OrderProductsList","productsForOrder","Button","type","btnClass","text","handleClick","id","console","log","updateOrderStatus","orderId","Pagination","onPageChange","disabled","pageNumbers","startPage","Math","max","endPage","min","displayRange","push","getPageNumbers"],"sourceRoot":""}