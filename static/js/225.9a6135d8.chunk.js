"use strict";(self.webpackChunkeasy_shop=self.webpackChunkeasy_shop||[]).push([[225],{7059:function(e,a,t){t(2791);a.Z=t.p+"static/media/avatar.27ffa8cc08b4da221c5a83ff4cbb218c.svg"},9803:function(e,a,t){t.d(a,{Z:function(){return b}});var s=t(5861),r=t(885),i=t(4687),o=t.n(i),n=t(2791),c=t(9434),l=t(7689),u=t(4676),d=t(9869),g=t(2205),x=t(2951),_=t(7692),f=t(3214),h=t(4387),m=t(9833),v={dialogueContainer:"Dialogue_dialogueContainer__FuS7j",additionalOpts:"Dialogue_additionalOpts__o-iwF",avatar:"Dialogue_avatar__Snahc",textInputArea:"Dialogue_textInputArea__7QqLK",dialogueGroup:"Dialogue_dialogueGroup__CccDt",dialogueBox:"Dialogue_dialogueBox__Zqye0",dialogueMessage:"Dialogue_dialogueMessage__tL3Cl",dialogueMessageRight:"Dialogue_dialogueMessageRight__KBBVw",textDate:"Dialogue_textDate__qAQ-I",textarea:"Dialogue_textarea__F4Goc",questionButton:"Dialogue_questionButton__et0nJ"},p=t(184),b=function(e){var a=e.productInfo,t=(0,c.I0)(),i=(0,l.s0)(),b=a._id,j=a.owner,k=a.userDialogue,D=(0,c.v9)(d.Dm),N=(0,c.v9)(d.PR),C=(0,c.v9)(d.t2),w=(0,n.useState)(""),Z=(0,r.Z)(w,2),B=Z[0],y=Z[1],I=(0,n.useState)(null),M=(0,r.Z)(I,2),A=M[0],L=M[1],T=(0,c.v9)(g.iH);(0,n.useEffect)((function(){L(N.newMessage?N.newMessage:0)}),[N.newMessage]),(0,n.useEffect)((function(){b&&C&&(k||(t((0,x.ve)()),t((0,u.UA)({productId:b}))))}),[t,b,k,C]),(0,n.useEffect)((function(){k&&(t((0,x.ve)()),t((0,u.UA)({dialogueId:k})))}),[t,k,A]),(0,n.useEffect)((function(){if(T&&0!==T.length){var e=T._id,a=T.newMessages,s=N._id,r=a.filter((function(e){return e.userReceiver===s}));if(r&&0!==r.length){var i=function(){t((0,u.k1)({dialogueId:e,arrayNewMessage:r}))},o=setTimeout(i,5e3);return function(){clearTimeout(o),i()}}}else;}),[t,T,N._id]);var R=[],S=[];0===T.length?(R=[],S=[]):(R=T.messageArray.slice().reverse(),S=T.newMessages);var U=function(e){var a="",t="",s=T.userAvatar,r=T.productOwnerAvatar;return N.userAvatar===s?(a=s,t=r):(a=r,t=s),e===N._id?a:t},W=function(){var e=(0,s.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,t((0,u.Jc)({text:B,productId:b,productOwner:j,dialogueId:T._id}));case 3:y(""),e.next=8;break;case 6:return i("/login"),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(e,a){if(!S||0===S.length)return!1;var t=N._id;return 0!==S.filter((function(s){return s.userReceiver===t&&s.message===e&&s.date===a})).length};return(0,p.jsxs)("div",{className:v.dialogueContainer,children:[(0,p.jsxs)("div",{className:v.additionalOpts,children:[(0,p.jsx)(_.avz,{className:v.favoriteIcon}),(0,p.jsx)(f.Z,{text:"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442\u0430\u043d\u043d\u044f",textClass:"productText"})]}),0===R.length&&(0,p.jsx)("div",{className:v.avatar,children:(0,p.jsx)(h.Z,{avatarClass:"photoDialogueLeft",src:D})}),R.length>0&&(0,p.jsx)("ul",{className:v.dialogueGroup,children:R.map((function(e,a){return(0,p.jsx)("li",{children:(0,p.jsx)("div",{className:v.dialogueBox,children:e.textOwner===N._id?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.Z,{avatarClass:"photoDialogueLeft",src:U(e.textOwner)}),(0,p.jsxs)("div",{className:v.dialogueMessage,children:[(0,p.jsx)(f.Z,{text:e.text,textClass:O(e.text,e.date)?"productTextDialogueNewMessage":"productTextDialogue"}),(0,p.jsx)("div",{className:v.textDate,children:(0,p.jsx)(f.Z,{text:e.date,textClass:"productTextDate"})})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:v.dialogueMessageRight,children:[(0,p.jsx)(f.Z,{text:e.text,textClass:O(e.text,e.date)?"productTextDialogueNewMessage":"productTextDialogue"}),(0,p.jsx)("div",{className:v.textDate,children:(0,p.jsx)(f.Z,{text:e.date,textClass:"productTextDate"})})]}),(0,p.jsx)(h.Z,{avatarClass:"photoDialogueRight",src:U(e.textOwner)})]})})},a)}))}),(0,p.jsxs)("div",{className:v.textInputArea,children:[(0,p.jsx)("textarea",{className:v.textarea,name:"myQuestion",value:B,onChange:function(e){y(e.target.value)},rows:5,cols:40}),(0,p.jsxs)("div",{className:v.questionButton,children:[(0,p.jsx)(m.Z,{text:C?"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044f",btnClass:"btnLight",handleClick:function(){return W(C)}}),!C&&(0,p.jsx)(f.Z,{text:"*\u0429\u043e\u0431 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044e, \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0430\u0431\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044f",textClass:"messageTextBtn"})]})]})]})}},4387:function(e,a,t){t.d(a,{Z:function(){return u}});var s=t(1413),r=t(4925),i=t(7059),o={photoAvatar:"Avatar_photoAvatar__y+tns",photo:"Avatar_photo__VHgBi",photoDialogue:"Avatar_photoDialogue__Aae+I",photoDialogueLeft:"Avatar_photoDialogueLeft__UOJtl",photoDialogueRight:"Avatar_photoDialogueRight__C5CPU"},n=t(184),c=["src","alt","avatarClass","width","heigth"],l=function(e){var a=e.src,t=e.alt,l=e.avatarClass,u=e.width,d=e.heigth,g=(0,r.Z)(e,c);return a?(0,n.jsx)("img",(0,s.Z)({src:a,alt:t,className:o[l],width:u,height:d},g)):(0,n.jsx)("img",{src:i.Z,alt:"Avatar",className:o[l]})};l.defaultProps={alt:"avatar",avatarClass:"",width:72,height:72};var u=l},990:function(e,a,t){t.d(a,{Z:function(){return D}});var s=t(885),r=t(2791),i=t(9434),o=t(8644),n=t(188),c=t(4737),l=t(2951),u=t(3214),d=t(1632),g=t(9806),x="MessageWindow_messageWindow__uRdd8",_="MessageWindow_dismissButton__SLD4U",f="MessageWindow_boo__YcpDh",h="MessageWindow_face__YrZvM",m="MessageWindow_shadow__dHQj9",v="MessageWindow_confirmButtons__sF71C",p="MessageWindow_ButtonsBlock__+USC0",b="MessageWindow_btnYes__-yYz3",j="MessageWindow_btnNo__lIEXL",k=t(184);function D(e){var a=e.text,t=e.onDismiss,D=e.confirmButtons,N=e.onConfirm,C=(0,i.I0)(),w=(0,r.useState)(!0),Z=(0,s.Z)(w,2),B=Z[0],y=Z[1];if((0,r.useEffect)((function(){if(y(!0),!D){var e=setTimeout((function(){y(!1),C((0,l.AT)()),C((0,o.k7)()),C((0,n.nv)()),C((0,c.Z$)())}),5e3);return function(){return clearTimeout(e)}}}),[a,C,D]),!B)return null;var I=function(e){y(!1),"function"===typeof N&&N(e)};return(0,k.jsxs)("div",{className:x,children:[!D&&(0,k.jsx)("button",{className:_,onClick:function(){y(!1),"function"===typeof t&&t(),C((0,l.AT)()),C((0,o.k7)()),C((0,n.nv)()),C((0,c.Z$)())},children:(0,k.jsx)(g.G,{icon:d.NBC,size:"lg"})}),(0,k.jsx)("div",{className:f,children:(0,k.jsx)("div",{className:h,id:"face"})}),(0,k.jsx)("div",{className:m}),D?(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)(u.Z,{text:a,textClass:"textMessageBtn"}),(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)("button",{className:b,onClick:function(){return I("yes")},children:"\u0422\u0430\u043a"}),(0,k.jsx)("button",{className:j,onClick:function(){return I("no")},children:"\u041d\u0456"})]})]}):(0,k.jsx)(u.Z,{text:a,textClass:"textMessage"})]})}},5399:function(e,a,t){t.d(a,{Z:function(){return i}});var s={roundButton:"RoundButton_roundButton__nMjVe",scrollButton:"RoundButton_scrollButton__WegW6",icon:"RoundButton_icon__X5lVR"},r=t(184),i=function(e){var a=e.icon,t=e.btnClass,i=void 0===t?"roundButton":t,o=e.handleClick,n=e.id,c=e.onClick;return(0,r.jsx)("div",{className:s[i],onClick:function(e){o&&o(n),c&&c(e)},children:(0,r.jsx)(a,{className:s.icon})})}},8785:function(e,a,t){function s(e,a){var t="",s="";switch(e){case"\u0416\u0456\u043d\u043a\u0430\u043c":t="women";break;case"\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c":t="men";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438":t="children";break;case"\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f":t="beauty&health";break;default:t=e}if("\u0427\u043e\u043b\u043e\u0432\u0456\u043a\u0430\u043c"===e)switch(a){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u0456\u0434\u0436\u0430\u043a\u0438 \u0456 \u043a\u043e\u0441\u0442\u044e\u043c\u0438":s="jackets & suits";break;case"\u041a\u043e\u0444\u0442\u0438 \u0442\u0430 \u0441\u0432\u0435\u0442\u0440\u0438":s="coats & tops";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0442\u0435\u043d\u0456\u0441\u043a\u0438":s="shirts & t-shirts";break;case"\u0424\u0443\u0442\u0431\u043e\u043b\u043a\u0438 \u0442\u0430 \u043c\u0430\u0439\u043a\u0438":s="t-shirts & tank tops";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothing for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothing";break;case"\u0422\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="tactical clothing";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=a}if("\u0416\u0456\u043d\u043a\u0430\u043c"===e)switch(a){case"\u0412\u0435\u0440\u0445\u043d\u0456\u0439 \u043e\u0434\u044f\u0433":s="outerwear";break;case"\u041f\u043b\u0430\u0442\u0442\u044f":s="dresses";break;case"\u0421\u043f\u0456\u0434\u043d\u0438\u0446\u0456":s="skirts";break;case"\u041c\u0430\u0439\u043a\u0438 \u0456 \u0444\u0443\u0442\u0431\u043e\u043b\u043a\u0438":s="t-shirts and t-shirts";break;case"\u0421\u043e\u0440\u043e\u0447\u043a\u0438 \u0442\u0430 \u0431\u043b\u0443\u0437\u0438":s="shirts and blouses";break;case"Coats":s="\u0421\u0432\u0435\u0442\u0440\u0438";break;case"\u041d\u0438\u0436\u043d\u044f \u0431\u0456\u043b\u0438\u0437\u043d\u0430":s="underwear";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438":s="accessories";break;case"\u0406\u043d\u0448\u0456 \u0440\u0435\u0447\u0456":s="other things";break;case"\u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0438\u0439 \u043e\u0434\u044f\u0433":s="sportswear";break;case"\u041a\u043e\u0441\u0442\u044e\u043c\u0438":s="suits";break;case"\u041a\u043e\u043c\u0431\u0456\u043d\u0435\u0437\u043e\u043d\u0438":s="overalls";break;case"\u041e\u0434\u044f\u0433 \u0434\u043b\u044f \u0434\u043e\u043c\u0443 \u0442\u0430 \u0441\u043d\u0443":s="clothes for home and sleep";break;case"\u0421\u043f\u0435\u0446\u043e\u0434\u044f\u0433":s="special clothes";break;case"\u0414\u043b\u044f \u0432\u0430\u0433\u0456\u0442\u043d\u0438\u0445":s="for pregnant women";break;case"\u0412\u0437\u0443\u0442\u0442\u044f":s="shoes";break;case"\u0428\u0442\u0430\u043d\u0438 \u0442\u0430 \u0448\u043e\u0440\u0442\u0438":s="pants and shorts";break;default:s=a}if("\u0414\u0438\u0442\u044f\u0447\u0456 \u0442\u043e\u0432\u0430\u0440\u0438"===e)switch(a){case"\u0414\u0438\u0442\u044f\u0447\u0430 \u043a\u0456\u043c\u043d\u0430\u0442\u0430":s="children's room";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u043c\u0430\u043c":s="products for mothers";break;case"\u0425\u0430\u0440\u0447\u0443\u0432\u0430\u043d\u043d\u044f \u0456 \u0433\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f":s="food and feeding";break;case"\u0429\u043e\u0434\u0435\u043d\u043d\u0438\u0439 \u0434\u043e\u0433\u043b\u044f\u0434":s="daily care";break;case"\u041a\u043e\u043b\u044f\u0441\u043a\u0438 \u0442\u0430 \u0430\u0432\u0442\u043e\u043a\u0440\u0456\u0441\u043b\u0430":s="strollers and car seats";break;case"\u0414\u0438\u0442\u044f\u0447\u0456 \u0456\u0433\u0440\u0430\u0448\u043a\u0438":s="children's toys";break;case"\u0414\u0438\u0442\u044f\u0447\u0438\u0439 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442":s="children's transport";break;case"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u0442\u0432\u043e\u0440\u0447\u043e\u0441\u0442\u0456":s="products for creativity";break;case"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439 \u0432\u0456\u0434\u043f\u043e\u0447\u0438\u043d\u043e\u043a":s="active recreation";break;default:s=a}if("\u041a\u0440\u0430\u0441\u0430 \u0442\u0430 \u0437\u0434\u043e\u0440\u043e\u0432'\u044f"===e)switch(a){case"\u0427\u043e\u043b\u043e\u0432\u0456\u0447\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="men's cosmetics";break;case"\u0410\u043a\u0441\u0435\u0441\u0443\u0430\u0440\u0438 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="beauty accessories";break;case"\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u0430 \u043a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430":s="decorative cosmetics";break;case"\u041f\u0430\u0440\u0444\u0443\u043c\u0438":s="perfume";break;case"\u041c\u0430\u043d\u0456\u043a\u044e\u0440 \u0456 \u043f\u0435\u0434\u0438\u043a\u044e\u0440":s="manicure and pedicure";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u0432\u043e\u043b\u043e\u0441\u0441\u044f":s="hair cosmetics";break;case"\u041a\u043e\u0441\u043c\u0435\u0442\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u0431\u043b\u0438\u0447\u0447\u044f":s="face cosmetics";break;case"\u0422\u0456\u043b\u043e \u0456 \u0432\u0430\u043d\u043d\u0430":s="body and bath";break;case"\u0414\u043e\u0433\u043b\u044f\u0434 \u0437\u0430 \u0441\u043e\u0431\u043e\u044e":s="self-care";break;case"\u0422\u0435\u0445\u043d\u0456\u043a\u0430 \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u0438":s="techniques for beauty";break;case"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043d\u0430\u0431\u043e\u0440\u0438":s="gift sets";break;case"\u0414\u0435\u0437\u0456\u043d\u0444\u0456\u043a\u0443\u044e\u0447\u0438 \u0437\u0430\u0441\u043e\u0431\u0438":s="disinfectants";break;case"\u041c\u0435\u0434\u0438\u0447\u043d\u0456 \u043f\u0440\u0438\u043b\u0430\u0434\u0438":s="medical devices";break;case"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0430\u043f\u0442\u0435\u043a\u0430":s="home pharmacy";break;case"\u041e\u043f\u0442\u0438\u043a\u0430":s="optics";break;default:s=a}return{categoryName:t,subCategoryName:s}}t.d(a,{a:function(){return s}})},2225:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var s=t(885),r=t(2791),i=t(7689),o=t(8785),n=t(9803),c=t(3214),l=t(4834),u={dialogueDetail:"DialogueDetail_dialogueDetail__2NKC-",box:"DialogueDetail_box__NJYRM",dialogueBox:"DialogueDetail_dialogueBox__MJ4xp",productBox:"DialogueDetail_productBox__i4MYW",imageCard:"DialogueDetail_imageCard__sV9nc",productInfo:"DialogueDetail_productInfo__WJar2",productNavigate:"DialogueDetail_productNavigate__sLv+u"},d=t(184),g=function(e){var a=e.selectedDialogue,t=(0,i.s0)(),s=null,r=null,g=null,x=null,_=null;a&&(s=a.productId,r=a.productOwner,g=a._id,x=a.productInfo.section,_=a.productInfo.category);return(0,d.jsx)("section",{className:u.dialogueDetail,children:(0,d.jsxs)("div",{className:u.box,style:{justifyContent:g?"initial":"center"},children:[!g&&(0,d.jsx)(c.Z,{text:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0456\u0430\u043b\u043e\u0433 \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",textClass:"productLabels"}),g&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:u.productBox,children:[(0,d.jsx)("div",{className:u.imageCard,style:{backgroundImage:"url(".concat(a.productInfo.mainPhotoUrl,")")}}),(0,d.jsxs)("div",{className:u.productInfo,children:[(0,d.jsx)("div",{className:u.messageBoxTitle,children:(0,d.jsx)(c.Z,{text:a.productInfo.nameProduct,textClass:"after-title-message-title"})}),(0,d.jsx)("div",{children:(0,d.jsx)(c.Z,{text:"\u0446\u0456\u043d\u0430: ".concat(a.productInfo.price," \u0433\u0440\u043d."),textClass:"after-title"})})]}),(0,d.jsx)("div",{className:u.productNavigate,children:(0,d.jsx)(l.Z,{text:"\u0414\u043e \u0442\u043e\u0432\u0430\u0440\u0443",btnClass:"btnLight",handleClick:function(){var e=(0,o.a)(x,_),a=e.categoryName,r=e.subCategoryName,i="/products/".concat(a,"/").concat(r,"/").concat(s);t(i)}})})]}),(0,d.jsx)("div",{className:u.dialogueBox,children:(0,d.jsx)(n.Z,{productInfo:{_id:s,owner:r,userDialogue:g}})})]})]})})},x=t(1023),_=t(5861),f=t(4687),h=t.n(f),m=t(9434),v=t(4676),p=t(2205),b=t(9869),j=t(4387),k=t(5399),D=t(990),N=t(9126),C={dialogueList:"DialogueList_dialogueList__v+adW",btnSelect:"DialogueList_btnSelect__NbDWo",wrapper:"DialogueList_wrapper__gclAw",active:"DialogueList_active__i3UCk",dialogueGroup:"DialogueList_dialogueGroup__qkiVH",dialogueCardBotoom:"DialogueList_dialogueCardBotoom__UvjJi",dialogueCard:"DialogueList_dialogueCard__bODOd",dialogueName:"DialogueList_dialogueName__-i6yR",imageCard:"DialogueList_imageCard__rEU8T",deleteBox:"DialogueList_deleteBox__6JIMP",message_title_box:"DialogueList_message_title_box__sizp5",messageBoxTitle:"DialogueList_messageBoxTitle__YodHY",messageBox:"DialogueList_messageBox__v4lN+",messageBoxText:"DialogueList_messageBoxText__AELys",numberNewMessage:"DialogueList_numberNewMessage__yXPlx"},w=function(e){e.selectedDialogue;var a=e.setSelectedDialogue,t=(0,m.I0)(),i=(0,r.useState)(!0),o=(0,s.Z)(i,2),n=o[0],u=o[1],g=(0,r.useState)(""),x=(0,s.Z)(g,2),f=x[0],w=x[1],Z=(0,r.useState)(null),B=(0,s.Z)(Z,2),y=B[0],I=B[1],M=(0,r.useState)(!1),A=(0,s.Z)(M,2),L=A[0],T=A[1],R=(0,m.v9)(b.PR),S=(0,r.useState)(null),U=(0,s.Z)(S,2),W=U[0],O=U[1],P=(0,m.v9)(p.k6),E=(0,m.v9)(p.Ok),G=function(){var e=(0,_.Z)(h().mark((function e(a){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!!a);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){O(R.newMessage?R.newMessage:0)}),[R.newMessage]),(0,r.useEffect)((function(){t((0,v.lX)({statusDialogue:n}))}),[t,n,W]),(0,r.useEffect)((function(){E&&(w(E),t((0,v.lX)({statusDialogue:n})))}),[t,n,E]);var Y=function(e){I(e),T(!0)},q=function(e){var a=e.otherUserAvatar,t=e.productId,s=R.userAvatar;return R.userProducts.includes(t)?a:s},F=function(e){var a=e.otherUserName,t=e.productId,s=R.username;return R.userProducts.includes(t)?a:s},H=function(e){var a=e.newMessages.filter((function(e){return e.userReceiver===R._id}));return 0===a.length?0:a.length};return(0,d.jsxs)("section",{className:C.dialogueList,children:[(0,d.jsxs)("div",{className:C.box,children:[(0,d.jsx)(c.Z,{text:"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432",textClass:"title"}),(0,d.jsxs)("div",{className:C.btnSelect,children:[(0,d.jsx)("div",{className:C.wrapper,children:(0,d.jsx)(l.Z,{text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456",type:"button",handleClick:function(){return G(!0)},btnClass:n?"exitHeaderBtnDialogue":"exitHeaderBtn"})}),(0,d.jsx)("div",{className:C.wrapper,children:(0,d.jsx)(l.Z,{text:"\u0410\u0440\u0445\u0456\u0432\u043d\u0456",type:"button",handleClick:function(){return G(!1)},btnClass:"exitHeaderBtn"})})]}),P.length>0&&(0,d.jsx)("ul",{className:C.dialogueGroup,children:P.map((function(e){return(0,d.jsx)("li",{className:C.dialogueCardBotoom,onClick:function(){return function(e){a(e)}(e)},children:(0,d.jsxs)("div",{className:C.dialogueCard,children:[(0,d.jsxs)("div",{className:C.dialogueName,children:[(0,d.jsx)(j.Z,{avatarClass:"photoDialogue",src:q({otherUserAvatar:e.otherUserInfo.userAvatar,productId:e.productId})}),(0,d.jsx)(c.Z,{text:F({otherUserName:e.otherUserInfo.username,productId:e.productId}),textClass:"after-title-bottom"})]}),(0,d.jsx)("div",{className:C.imageCard,style:{backgroundImage:"url(".concat(e.productInfo.mainPhotoUrl,")")}}),(0,d.jsxs)("div",{className:C.message_title_box,children:[(0,d.jsx)("div",{className:C.messageBoxTitle,children:(0,d.jsx)(c.Z,{text:e.productInfo.nameProduct,textClass:"after-title-message-title"})}),(0,d.jsxs)("div",{className:C.messageBox,children:[(0,d.jsx)("div",{className:C.messageBoxText,children:(0,d.jsx)(c.Z,{text:e.messageArray[e.messageArray.length-1].text,textClass:"after-title"})}),(0,d.jsx)(c.Z,{text:e.messageArray[e.messageArray.length-1].date,textClass:"productTextDate"})]})]}),(0,d.jsxs)("div",{className:C.deleteBox,children:[(0,d.jsx)("div",{className:C.numberNewMessage,children:(0,d.jsx)(c.Z,{text:H(e),textClass:"after-title-message-title"})}),(0,d.jsx)(k.Z,{icon:N.yvY,handleClick:Y,id:e._id})]})]})},e._id)}))}),0===P.length&&(0,d.jsx)(c.Z,{text:"\u0423 \u0432\u0430\u0441 \u043d\u0435 \u043c\u0430\u0454 \u0434\u0456\u0430\u043b\u043e\u0433\u0456\u0432",textClass:"after-title-text-warning"})]}),L&&(0,d.jsx)(D.Z,{text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0456\u0430\u043b\u043e\u0433?",confirmButtons:!0,onConfirm:function(e){"yes"===e?(t((0,v.e$)({dialogueId:y})),T(!1)):"no"===e&&(I(null),T(!1))}}),f&&(0,d.jsx)(D.Z,{text:"".concat(f),onDismiss:function(){w("")}})]})},Z="Message_section__OmvT6",B="Message_dialogueGroup__I6vbP",y=function(){var e=(0,r.useState)(null),a=(0,s.Z)(e,2),t=a[0],i=a[1];return(0,d.jsx)("section",{className:Z,children:(0,d.jsx)(x.Z,{children:(0,d.jsxs)("div",{className:B,children:[(0,d.jsx)(w,{selectedDialogue:t,setSelectedDialogue:i}),(0,d.jsx)(g,{selectedDialogue:t})]})})})},I=function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(y,{})})}}}]);
//# sourceMappingURL=225.9a6135d8.chunk.js.map